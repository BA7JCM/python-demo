webpackJsonp([88],{PHXW:function(e,a){},xgs8:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("8BiH");function n(e){if(Array.isArray(e)){for(var a=0,t=Array(e.length);a<e.length;a++)t[a]=e[a];return t}return Array.from(e)}function l(e){return function(){var a=e.apply(this,arguments);return new Promise(function(e,t){return function r(n,l){try{var i=a[n](l),c=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}var i={props:{level:{type:Number,default:1},areaId:{type:String,default:""},isShowTown:{type:Boolean,default:!0},selectStyle:{type:String,default:"custom-light"}},data:function(){return{areaData:[],areaValue:{},defaultOption:[{placeholder:"请选择省",childrens:[{areaName:"全部省",id:"",level:1}],selected:"",level:1},{placeholder:"请选择市",childrens:[{areaName:"全部市",id:"",level:2}],selected:"",level:2},{placeholder:"请选择区/县",childrens:[{areaName:"全部区/县",id:"",level:3}],selected:"",level:3},{placeholder:"请选择街镇",childrens:[{areaName:"全部街镇",id:"",level:4}],selected:"",level:4},{placeholder:"请选择村",childrens:[{areaName:"全部村",id:"",level:5}],selected:"",level:5}]}},created:function(){},mounted:function(){this.initDefaultSelect(),this.init()},methods:{initDefaultSelect:function(){var e=this.isShowTown?2:4;this.areaData=this.defaultOption.splice(this.level,e),console.log(this.areaData)},init:function(){var e=this;return l(regeneratorRuntime.mark(function a(){var t,r,l,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(3!==e.level){a.next=6;break}return a.next=3,e.getLocalArea(e.areaId);case 3:return l=a.sent,(r=e.areaData[0].childrens).push.apply(r,n(l.obj.list)),a.abrupt("return");case 6:return a.next=8,e.getArea(e.areaId);case 8:i=a.sent,(t=e.areaData[0].childrens).push.apply(t,n(i.obj.list));case 10:case"end":return a.stop()}},a,e)}))()},areaChangeHadner:function(e){var a=this;return l(regeneratorRuntime.mark(function t(){var r,n,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),e.id,a.level,t.abrupt("return");case 8:for(t.sent.obj.list.forEach(function(e){a.areaData[1].area.push(e)}),r=0;r<a.areaData.length;r++)0!==r&&(a.areaData[r].selected="",a.areaData[r+1].area=[]);case 11:if(!a.isShowTown){t.next=26;break}if(3!==e.level){t.next=19;break}return e.id?a.areaData[3-level].area=[{areaName:"全部街镇",id:"",level:4}]:a.areaData[3-level].area=[],t.next=16,a.getLocalArea(e.id);case 16:for(t.sent.obj.list.forEach(function(e){a.areaData[3-level].area.push(e)}),n=0;n<a.areaData.length;n++)2!==a.areaData[n].level&&3!==a.areaData[n].level&&(a.areaData[n].selected="",a.areaData[n+1].area=[]);case 19:if(4!==e.level){t.next=26;break}return e.id?a.areaData[4-level].area=[{areaName:"全部村",id:"",level:5}]:a.areaData[4-level].area=[],t.next=23,a.getLocalArea(e.id);case 23:for(t.sent.obj.list.forEach(function(e){a.areaData[4-level].area.push(e)}),l=0;l<a.areaData.length;l++)2!==a.areaData[l].level&&3!==a.areaData[l].level&&4!==a.areaData[l].level&&(a.areaData[l].selected="",a.areaData[l+1].area=[]);case 26:case"end":return t.stop()}},t,a)}))()},getArea:function(e){var a=this;return new Promise(function(t){a.$ajax.post(a.$api.area.listByParentId,{parentId:e}).then(function(e){0===e.data.respCode&&t(e.data)})})},getLocalArea:function(e){var a=this;return new Promise(function(t){a.$ajax.post(a.$api.area.LocalListByParentId,{parentId:e}).then(function(e){0===e.data.respCode&&t(e.data)})})}},components:{CustomSelect:r.default}},c=t("W5g0");var s=function(e){t("PHXW")},o=Object(c.a)(i,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"area-selector"},e._l(e.areaData,function(a,r){return a.childrens.length>1?t("CustomSelect",{key:r,attrs:{clearable:"",margin:"0 15px 0 0",theme:"light"}},[t("template",{slot:"select-container"},[t("el-select",{attrs:{placeholder:a.placeholder,"popper-class":e.selectStyle},model:{value:a.selected,callback:function(t){e.$set(a,"selected",t)},expression:"arealist.selected"}},e._l(a.childrens,function(a){return t("el-option",{key:a.id,attrs:{label:a.areaName||a.name,value:a.areaName||a.name}},[t("span",{on:{click:function(t){return e.areaChangeHadner(a)}}},[e._v(e._s(a.areaName||a.name))])])}),1)],1)],2):e._e()}),1)},[],!1,s,"data-v-ca9ab1a6",null);a.default=o.exports}});
//# sourceMappingURL=88.6d87bb89501a7725d863.js.map