webpackJsonp([6],{BHCl:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Mt7t"),i=a("MZv5"),n=a("446f"),s=a("VCTt");function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function r(i,n){try{var s=e[i](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){r("next",t)},function(t){r("throw",t)});t(o)}("next")})}}var c={grid:{show:!0,borderColor:"#0D394A",top:40,bottom:40,left:45,right:20},tooltip:{show:!0,trigger:"item",backgroundColor:"#043250",padding:[13,14,13,11],textStyle:{fontSize:12,color:"#9ED2D8"},formatter:function(t){return t.name+"："+t.value+"%"}},xAxis:{data:[],axisLabel:{interval:0,textStyle:{color:"#6EC2CB",fontSize:12,lineHeight:14},align:"center"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(109,193,203,0.2)"}}},yAxis:{name:"绿色认证率（%）",nameTextStyle:{fontSize:12,color:"#6DC1CB",padding:[0,0,3,50]},axisLine:{show:!1,lineStyle:{color:"#0D394A"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(109,193,203,0.2)"}},axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12}}},series:[{type:"bar",barWidth:"40%",barMinHeight:5,data:[],label:{show:!0,position:"top",color:"#FEEB48",fontSize:12,formatter:function(t){return parseFloat(t.value.toFixed(2))}},z:10,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#00F6FF"},{offset:1,color:"#01C1FF"}],global:!1}}}]},l={props:{farmAreaInfo:{type:Object,default:function(){return Object(s.b)()}},areaData:{type:Array,default:function(){return[]}}},data:function(){return{chartInstance:null,hasData:!0,loading:!0,options:{leftNum:"",rightNum:"",centerNum:"",leftTitle:"绿色认证面积",rightTitle:"农用地面积",centerTitle:"绿色认证率"},certAnalysis:{breedCertifiRate:"",fruitCertifiRate:"",grainAndOilCertifiRate:"",processedProductsCertifiRate:"",vegetablesCertifiRate:"",melonCertifiRate:""}}},created:function(){this.getGreenCertifiByArea(),this.getAllCateByArea()},mounted:function(){var t=this;this.$nextTick(function(){t.initMoudle()}),window.addEventListener("resize",this.adaptationChart),this.$once("hook:beforeDestroy",function(){window.removeEventListener("resize",this.adaptationChart)})},methods:{initMoudle:function(){this.refreshChart(this._initEcharts(this.$refs.EContainer,c))},refreshRender:function(){this.chartInstance&&this.chartInstance.resize()},handSubTitle:function(){this.$router.push("/greenCertList")},getListGreenCertifiRate:function(t){return this.$ajax.post(this.$api.safeSupervise.listGreenCertifiRate,{farmAreaId:t,farmAreaType:3}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj}).catch(function(t){console.log(new Error("获取在田种类统计error"),t)})},getGreenCertifiByArea:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax.post(t.$api.safeSupervise.getGreenCertifiByArea,{farmAreaId:[t.farmAreaInfo.farmAreaId],farmAreaType:t.farmAreaInfo.farmAreaType});case 2:0===(a=e.sent).data.respCode&&(t.options.leftNum=a.data.obj.greenCertifiArea?a.data.obj.greenCertifiArea+"万亩":"0万亩",t.options.centerNum=a.data.obj.greenCertifiRate?a.data.obj.greenCertifiRate+"%":"0%",t.options.rightNum=a.data.obj.productionLandArea?a.data.obj.productionLandArea+"万亩":"0万亩");case 4:case"end":return e.stop()}},e,t)}))()},getAllCateByArea:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$ajax.post(t.$api.safeSupervise.allCateByArea,{farmAreaId:[t.farmAreaInfo.farmAreaId],farmAreaType:t.farmAreaInfo.farmAreaType});case 2:0===(a=e.sent).data.respCode&&(t.certAnalysis=a.data.obj);case 4:case"end":return e.stop()}},e,t)}))()},_initEcharts:function(t,e){var a=this.$echarts.init(t);return a.setOption(e),a},refreshChart:function(t){var e=this;return o(regeneratorRuntime.mark(function a(){var r,i,n,s,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=[],e.areaData.forEach(function(t){r.push(t.id)}),a.next=4,e.getListGreenCertifiRate(r);case 4:i=a.sent,n=[],0===i.length?e.areaData.forEach(function(t){n.push({greenCertifiRate:0})}):e.areaData.forEach(function(t){var e=i.filter(function(e){return e.areaId===t.id});e.length&&n.push(e[0])}),s=n.map(function(t){return t.greenCertifiRate>0?parseFloat(t.greenCertifiRate.toFixed(2)):0}),o={xAxis:{data:e.areaData.map(function(t){return t.areaName})},series:[{data:s}]},e.chartInstance=t,t.setOption(o),e.adaptationChart(),e.hasData=!0,e.loading=!1;case 14:case"end":return a.stop()}},a,e)}))()},adaptationChart:function(){var t={series:[{label:{fontSize:12}}]};(document.documentElement.clientWidth||document.body.clientWidth)>3e3?(t.series[0].label.fontSize=18,this.chartInstance&&this.chartInstance.setOption(t)):(t.series[0].label.fontSize=12,this.chartInstance&&this.chartInstance.setOption(t))}},components:{CircleLine:r.default,LayoutBox:i.default,BoxItem:n.default}},f=a("W5g0");var u=function(t){a("w+cN")},d=Object(f.a)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"safeSupervise-left"},[r("div",{staticClass:"cert-analysis-box"},[r("LayoutBox",[r("template",{slot:"default"},[r("BoxItem",{attrs:{title:"绿色认证分析",showSubTitle:!0},on:{"hand-sub-title":t.handSubTitle}},[r("div",{staticClass:"cert-analysis",attrs:{slot:"default"},slot:"default"},[r("CircleLine",{attrs:{options:t.options}}),t._v(" "),r("div",{staticClass:"type-cert-analysis-title"},[t._v("\n\t\t\t\t\t\t\t各类别绿色认证分析\n\t\t\t\t\t\t")]),t._v(" "),r("div",{staticClass:"type-cert-analysis"},[r("div",{staticClass:"type-cert-analysis-box"},[r("div",{staticClass:"type-cert-analysis-item"},[r("img",{attrs:{src:a("sSvm")}}),t._v(" "),r("div",{staticClass:"type-cert-analysis-text"},[r("span",[t._v("粮油类认证率")]),t._v(" "),r("span",[t._v(t._s(t.certAnalysis.grainAndOilCertifiRate?t.certAnalysis.grainAndOilCertifiRate:0)+"%")])])]),t._v(" "),r("div",{staticClass:"type-cert-analysis-item"},[r("img",{attrs:{src:a("HofL")}}),t._v(" "),r("div",{staticClass:"type-cert-analysis-text"},[r("span",[t._v("鲜果类认证率")]),t._v(" "),r("span",[t._v(t._s(t.certAnalysis.fruitCertifiRate?t.certAnalysis.fruitCertifiRate:0)+"%")])])]),t._v(" "),r("div",{staticClass:"type-cert-analysis-item"},[r("img",{attrs:{src:a("VpX1")}}),t._v(" "),r("div",{staticClass:"type-cert-analysis-text"},[r("span",[t._v("西甜瓜类认证率")]),t._v(" "),r("span",[t._v(t._s(t.certAnalysis.melonCertifiRate?t.certAnalysis.melonCertifiRate:0)+"%")])])])]),t._v(" "),r("div",{staticClass:"type-cert-analysis-box"},[r("div",{staticClass:"type-cert-analysis-item"},[r("img",{attrs:{src:a("GaZy")}}),t._v(" "),r("div",{staticClass:"type-cert-analysis-text"},[r("span",[t._v("蔬菜类认证率")]),t._v(" "),r("span",[t._v(t._s(t.certAnalysis.vegetablesCertifiRate?t.certAnalysis.vegetablesCertifiRate:0)+"%")])])]),t._v(" "),r("div",{staticClass:"type-cert-analysis-item"},[r("img",{attrs:{src:a("RZFM")}}),t._v(" "),r("div",{staticClass:"type-cert-analysis-text"},[r("span",[t._v("养殖类认证率")]),t._v(" "),r("span",[t._v(t._s(t.certAnalysis.breedCertifiRate?t.certAnalysis.breedCertifiRate:0)+"%")])])]),t._v(" "),r("div",{staticClass:"type-cert-analysis-item"})])])],1)])],1)],2)],1),t._v(" "),r("div",{staticClass:"area-cert"},[r("LayoutBox",[r("div",{staticClass:"area-cert-box",attrs:{slot:"default"},slot:"default"},[r("BoxItem",{attrs:{title:"各区绿色认证率"}},[r("template",{slot:"default"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"area-cert-chart",attrs:{"element-loading-spinner":"iconfont icon-loading1","element-loading-background":"rgba(0, 0, 0, 0)"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.hasData,expression:"hasData"}],ref:"EContainer",staticClass:"echart-container"}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasData,expression:"!hasData"}],staticClass:"no-data"},[r("span",[t._v("暂无数据")])])])])],2)],1)])],1)])},[],!1,u,"data-v-3be4768e",null);e.default=d.exports},GaZy:function(t,e){t.exports="https://snkoudai.oss-cn-hangzhou.aliyuncs.com/goverment/static/img/bg-vege-cert.67a4b6d.png"},HofL:function(t,e){t.exports="https://snkoudai.oss-cn-hangzhou.aliyuncs.com/goverment/static/img/bg-fruits-cert.b2b062c.png"},RZFM:function(t,e){t.exports="https://snkoudai.oss-cn-hangzhou.aliyuncs.com/goverment/static/img/bg-breed-cert.e4d3e62.png"},VpX1:function(t,e){t.exports="https://snkoudai.oss-cn-hangzhou.aliyuncs.com/goverment/static/img/bg-waterm-cert.43cc53a.png"},sSvm:function(t,e){t.exports="https://snkoudai.oss-cn-hangzhou.aliyuncs.com/goverment/static/img/bg-stuff-cert.5d26ff7.png"},"w+cN":function(t,e){}});
//# sourceMappingURL=6.a7939e89913b8b580bcc.js.map