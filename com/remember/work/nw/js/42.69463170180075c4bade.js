webpackJsonp([42],{bWM3:function(e,t){},"k+iO":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("xk5x"),r=a("VCTt"),o=a("VKKs"),s=a("N/DY");function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}Object(o.b)("govGovernmentSubjectVO");var c={grid:{show:!1,top:20,left:"5%",right:"4%",bottom:32},tooltip:{show:!0,trigger:"item",confine:!0,formatter:function(e){return'<span style="color: #9DD1D7;font-weight: bold; display: block;">'+e.name+'</span>\n\t\t\t<span style="color: #6DC1CB; display: block;">保障体系：'+e.data.securitySystemScore+'分</span>\n\t\t\t<span style="color: #6DC1CB; display: block;">直报覆盖率：'+e.data.coverageScore+'分</span>\n\t\t\t<span style="color: #6DC1CB; display: block;">直报质量：'+e.data.massScore+'分</span>\n\t\t\t<span style="color: #6DC1CB; display: block;">争先创优：'+e.data.striveForExcellenceScore+"分</span>"},backgroundColor:"#021F33",padding:[13,12,13,12]},xAxis:{data:[],axisLabel:{interval:0,textStyle:{color:"#6EC2CB",fontSize:12,lineHeight:14},align:"center"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(109, 193, 203, 0.2)"}}},yAxis:{show:!0,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(109, 193, 203, 0.2)"}},axisLabel:{show:!1}},series:[{type:"bar",barWidth:"40%",data:[],stack:"总量",itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#32CEBB"},{offset:1,color:"#32CEBB"}],global:!1}}},{type:"bar",barWidth:"40%",data:[],stack:"总量",itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#F6A82B"},{offset:1,color:"#F6A82B"}],global:!1}}},{type:"bar",barWidth:"40%",data:[],stack:"总量",itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#10AC2A"},{offset:1,color:"#10AC2A"}],global:!1}}},{type:"bar",barWidth:"40%",data:[],stack:"总量",itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#3649FB"},{offset:1,color:"#3649FB"}],global:!1}}},{type:"bar",barWidth:"40%",barGap:"-100%",data:[],itemStyle:{color:"transparent"},label:{show:!0,position:"top",color:"#FBE948",fontSize:12,fontWeight:"bold",formatter:function(e){return e.data.value+"分"}}}]},l={name:"score-22",data:function(){return{mainLoading:!0,chartInstance:null,hasData:!0,statisticsMonth:""}},mounted:function(){var e=this;this.$nextTick(function(){e.initMoudle()}),window.addEventListener("resize",this.adaptationChart),this.$once("hook:beforeDestroy",function(){window.removeEventListener("resize",this.adaptationChart)})},methods:{initMoudle:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.hasData=e.mainLoading=!0,e.chartInstance=e._initEcharts(e.eContainerRef,c),e.refreshChart(e.chartInstance),e.adaptationChart();case 4:case"end":return t.stop()}},t,e)}))()},refreshRender:function(){this.chartInstance&&this.chartInstance.resize()},_initEcharts:function(e,t){var a=this.$echarts.init(e);return a.setOption(t),a},refreshChart:function(e){var t=this;return i(regeneratorRuntime.mark(function a(){var n,o,i,c,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getListScoreByAreaIds();case 2:if((n=a.sent)&&n.length){a.next=7;break}return t.mainLoading=!1,t.hasData=!1,a.abrupt("return");case 7:o=n[0].statisticsMonth.split("-"),t.statisticsMonth=o[0]+"年"+o[1]+"月",i=[],s.a.forEach(function(e){n.filter(function(t){return t.areaId===e.id}).length||n.push({areaId:e.id,coverageScore:0,massScore:0,securitySystemScore:0,striveForExcellenceScore:0}),n.forEach(function(t){t.areaId===e.id&&i.push(t)})}),(c=[{title:"保障体系",data:i.map(function(e){return Object(r.j)({value:e.securitySystemScore?e.securitySystemScore:0,places:0})})},{title:"直报覆盖率",data:i.map(function(e){return Object(r.j)({value:e.coverageScore?e.coverageScore:0,places:0})})},{title:"直报质量",data:i.map(function(e){return Object(r.j)({value:e.massScore?e.massScore:0,places:0})})},{title:"争先创优",data:i.map(function(e){return Object(r.j)({value:e.striveForExcellenceScore?e.striveForExcellenceScore:0,places:0})})}]).reverse(),l={xAxis:{data:s.a.map(function(e){return e.areaName})},series:[{data:c[0].data.map(function(e){return{value:e,title:c[0].title}})},{data:c[1].data.map(function(e){return{value:e,title:c[1].title}})},{data:c[2].data.map(function(e){return{value:e,title:c[2].title}})},{data:c[3].data.map(function(e){return{value:e,title:c[3].title}})},{data:i.map(function(e){return{value:Object(r.j)({value:e.securitySystemScore+e.coverageScore+e.massScore+e.striveForExcellenceScore,places:0}),securitySystemScore:Object(r.j)({value:e.securitySystemScore,places:0}),coverageScore:Object(r.j)({value:e.coverageScore,places:0}),massScore:Object(r.j)({value:e.massScore,places:0}),striveForExcellenceScore:Object(r.j)({value:e.striveForExcellenceScore,places:0})}})}]},e.setOption(l),t.mainLoading=!1;case 16:case"end":return a.stop()}},a,t)}))()},getListScoreByAreaIds:function(){var e=s.a.map(function(e){return e.id});return this.$ajax.post(this.$api.produce.listScoreByAreaIds,{farmAreaId:e,farmAreaType:Object(r.b)().farmAreaType}).then(function(e){var t=e.data;return 0===t.respCode?t.obj:null}).catch(function(e){console.log(new Error(e))})},adaptationChart:function(){var e={xAxis:{axisLabel:{textStyle:{fontSize:12}}},series:[{},{},{},{},{label:{fontSize:12}}]};(document.documentElement.clientWidth||document.body.clientWidth)>3e3?(e.xAxis.axisLabel.textStyle.fontSize=16,e.series[4].label.fontSize=16,this.chartInstance&&this.chartInstance.setOption(e)):(e.xAxis.axisLabel.textStyle.fontSize=12,e.series[4].label.fontSize=12,this.chartInstance&&this.chartInstance.setOption(e))}},computed:{eContainerRef:function(){return this.$refs.EContainer}},components:{areaPanel:n.default}},u=a("W5g0");var d=function(e){a("bWM3")},p=Object(u.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.mainLoading,expression:"mainLoading"}],staticClass:"score-22",attrs:{"element-loading-spinner":"iconfont icon-loading1","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[a("area-panel",{attrs:{"area-title":"各区直报评分"}},[a("div",{staticClass:"head-sub-title",attrs:{slot:"subTitle"},slot:"subTitle"},[a("span",[e._v(e._s(e.statisticsMonth))])]),e._v(" "),a("div",{staticClass:"module-body",attrs:{slot:"panelMain"},slot:"panelMain"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasData,expression:"hasData"}],staticClass:"legend"},[a("div",{staticClass:"legend-item"},[a("span"),e._v(" "),a("span",[e._v("保障体系")])]),e._v(" "),a("div",{staticClass:"legend-item"},[a("span"),e._v(" "),a("span",[e._v("直报覆盖率")])]),e._v(" "),a("div",{staticClass:"legend-item"},[a("span"),e._v(" "),a("span",[e._v("直报质量")])]),e._v(" "),a("div",{staticClass:"legend-item"},[a("span"),e._v(" "),a("span",[e._v("争先创优")])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasData,expression:"hasData"}],ref:"EContainer",staticClass:"echart-container"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasData,expression:"!hasData"}],staticClass:"no-data"},[a("span",[e._v("暂无数据")])])])])],1)},[],!1,d,"data-v-219bc6e6",null);t.default=p.exports}});
//# sourceMappingURL=42.69463170180075c4bade.js.map