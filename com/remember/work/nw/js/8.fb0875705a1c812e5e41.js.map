{"version":3,"file":"static/js/8.fb0875705a1c812e5e41.js","sources":["webpack:///src/components/overview/fields-statistics-dialog.vue"],"sourcesContent":["<template>\n\t<div class=\"fields-statistics-dialog\">\n\t\t<Dialog :dialogVisible.sync=\"dialog\" :title=\"title + '的在田情况'\" :loading=\"loading\" :dialogTop=\"'calc(50vh - 256px)'\">\n\t\t\t<div class=\"regulatory-con\" v-show=\"!loading\">\n\t\t\t\t<CustomTable theme=\"dialog-dark\">\n\t\t\t\t\t<template slot=\"table-container\">\n\t\t\t\t\t\t<el-table :data=\"fieldsDetailList\" style=\"max-width: 760px\" height=\"430\">\n\t\t\t\t\t\t\t<el-table-column label=\"经营主体名称\">\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t\t\t<span class=\"text\">{{ scope.row.farmName }}</span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</el-table-column>\n\n\t\t\t\t\t\t\t<el-table-column>\n\t\t\t\t\t\t\t\t<template slot=\"header\" slot-scope=\"scope\">\n\t\t\t\t\t\t\t\t\t<CustomTableSort\n\t\t\t\t\t\t\t\t\t\ttitle=\"在田地块数（个）\"\n\t\t\t\t\t\t\t\t\t\tprop=\"landCountOnPlanting\"\n\t\t\t\t\t\t\t\t\t\t:defaultSort=\"landCountDefaultSort\"\n\t\t\t\t\t\t\t\t\t\t@sortChange=\"sortChange\"\n\t\t\t\t\t\t\t\t\t\ttheme=\"dialog-dark\"\n\t\t\t\t\t\t\t\t\t></CustomTableSort>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-blue\">{{ scope.row.landCountOnPlanting }}</span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</el-table-column>\n\n\t\t\t\t\t\t\t<el-table-column width=\"180\">\n\t\t\t\t\t\t\t\t<template slot=\"header\" slot-scope=\"scope\">\n\t\t\t\t\t\t\t\t\t<CustomTableSort title=\"在田面积（亩）\" prop=\"landArceOnPlanting\" :defaultSort=\"landArceDefaultSort\" @sortChange=\"sortChange\" theme=\"dialog-dark\"></CustomTableSort>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-green\">{{ scope.row.landArceOnPlanting }}</span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</el-table-column>\n\t\t\t\t\t\t</el-table>\n\t\t\t\t\t</template>\n\t\t\t\t</CustomTable>\n\t\t\t</div>\n\t\t</Dialog>\n\t</div>\n</template>\n\n<script>\nimport Dialog from '@/components/common/dialog.vue';\nimport CustomTable from '@/components/common/table.vue';\nimport CustomTableSort from '@/components/common/custom-table-sort.vue';\n\nimport {areaLevelCorAreaId} from '@/common/fn/index.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tloading: false,\n\t\t\tviewImgDialog: false,\n\t\t\tfieldsDetailList: [],\n\t\t\tsortDirection: 1,\n\t\t\tsortField: 1,\n\t\t\tlandCountDefaultSort: 'none',\n\t\t\tlandArceDefaultSort: 'descending'\n\t\t};\n\t},\n\tprops: {\n\t\tregulatoryVisible: {\n\t\t\tdefault: false,\n\t\t\ttype: Boolean\n\t\t},\n\t\tcropId: {\n\t\t\tdefault: '',\n\t\t\ttype: String\n\t\t},\n\t\tarea: {\n\t\t\tdefault: {},\n\t\t\ttype: () => {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\ttitle: {\n\t\t\tdefault: '',\n\t\t\ttype: String\n\t\t}\n\t},\n\tcomputed: {\n\t\tdialog: {\n\t\t\tget() {\n\t\t\t\treturn this.regulatoryVisible;\n\t\t\t},\n\t\t\tset(val) {\n\t\t\t\tthis.$emit('update:regulatoryVisible', val);\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.getFieldsDetailList();\n\t},\n\tmethods: {\n\t\tsortChange(value) {\n\t\t\tthis.currentPage = 1;\n\t\t\tif (value.prop === 'landCountOnPlanting') {\n\t\t\t\t// 清空其他的排序条件，排序只能一种条件在排序\n\t\t\t\tif (this.landCountDefaultSort === 'none') {\n\t\t\t\t\t// 在同个排序中的初始化\n\t\t\t\t\tthis.landArceDefaultSort = 'none';\n\t\t\t\t\tthis.landCountDefaultSort = 'descending';\n\t\t\t\t\tthis.sortField = 0;\n\t\t\t\t\tthis.sortDirection = 1;\n\t\t\t\t\tthis.getFieldsDetailList();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.sortField = 0;\n\t\t\t\tthis.sortDirection = value.order === 'descending' ? 1 : 0;\n\t\t\t}\n\t\t\tif (value.prop === 'landArceOnPlanting') {\n\t\t\t\tif (this.landArceDefaultSort === 'none') {\n\t\t\t\t\tthis.landCountDefaultSort = 'none';\n\t\t\t\t\tthis.landArceDefaultSort = 'descending';\n\t\t\t\t\tthis.sortField = 1;\n\t\t\t\t\tthis.sortDirection = 1;\n\t\t\t\t\tthis.getFieldsDetailList();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.sortField = 1;\n\t\t\t\tthis.sortDirection = value.order === 'descending' ? 1 : 0;\n\t\t\t}\n\n\t\t\tthis.getFieldsDetailList();\n\t\t},\n\t\tasync getFieldsDetailList() {\n\t\t\tthis.loading = true;\n\t\t\tconst defaultArea = areaLevelCorAreaId();\n\n\t\t\tconst options = {\n\t\t\t\tcropGroupId: this.cropId,\n\t\t\t\tfarmAreaId: this.area.id ? [this.area.id] : [defaultArea.farmAreaId],\n\t\t\t\tfarmAreaType: this.area.level ? this.area.level : defaultArea.farmAreaType,\n\t\t\t\tpageNo: 1,\n\t\t\t\tpageSize: 100,\n\t\t\t\tsortDirection: this.sortDirection,\n\t\t\t\tsortField: this.sortField\n\t\t\t};\n\n\t\t\tconst res = await this.$ajax.post(this.$api.produce.fieldsGroupDetailList, options);\n\n\t\t\tif (res.data.respCode === 0) {\n\t\t\t\tthis.fieldsDetailList = res.data.obj.list;\n\t\t\t}\n\t\t\tthis.loading = false;\n\t\t}\n\t},\n\tcomponents: {\n\t\tDialog,\n\t\tCustomTable,\n\t\tCustomTableSort\n\t}\n};\n</script>\n\n<style scoped lang=\"scss\">\n.regulatory-con {\n\twidth: 820px;\n\theight: 457px;\n\tmargin: 0 auto;\n\tpadding: 20px 30px 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground: #041626;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\n\t.text {\n\t\tcolor: #388790;\n\t}\n\t.text-blue {\n\t\tcolor: #00f6ff;\n\t\tfont-weight: bold;\n\t\tfont-size: 14px;\n\t}\n\t.text-green {\n\t\tcolor: #3fe490;\n\t\tfont-weight: bold;\n\t\tfont-size: 14px;\n\t}\n}\n</style>\n\n<style lang=\"scss\">\n.fields-statistics-dialog {\n\t/deep/ .dialog-normal {\n\t\tpadding: 17px 30px 30px !important;\n\t\twidth: 908px !important;\n\t\theight: 580px !important;\n\t\tbackground: url('~@/assets/images/operators/certificate_bg.png') no-repeat center 100%/100% !important;\n\n\t\t.el-dialog__body .dialog-con .dialog-header {\n\t\t\tline-height: 40px !important;\n\t\t\tmargin: 0 auto !important;\n\t\t}\n\n\t\t.el-dialog__body .popclose {\n\t\t\ttop: 0 !important;\n\t\t}\n\t}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/overview/fields-statistics-dialog.vue"],"mappings":"AAmDA","sourceRoot":""}