webpackJsonp([34],{fTdu:function(t,e){},yXyS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("xk5x"),r=n("VCTt");var i={title:{top:"0",left:"10",textStyle:{color:"#6DC1CB",fontSize:12}},grid:{show:!1,right:"0",top:"center",height:"80%",width:"75%"},tooltip:{show:!0,trigger:"item",formatter:function(t){return t.value[0]+"："+Math.abs(t.value[1])+"万亩"},backgroundColor:"#043250",padding:[13,14,13,11],textStyle:{fontSize:12,color:"#9ED2D8"}},xAxis:{show:!1,axisLabel:{interval:0,textStyle:{color:"#6EC2CB",fontSize:12,lineHeight:14},align:"center"},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{show:!1,type:"category",name:"单位：",nameTextStyle:{fontSize:14,color:"#6DC1CB",padding:[0,0,10,0]},axisLine:{show:!1,lineStyle:{color:"#0D394A"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#0D394A"}},axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12}}},dataset:{source:[]},series:[{type:"bar",barWidth:"40%",barMinHeight:5,label:{show:!0,position:"left",color:"#00F5FF",fontSize:12,formatter:function(t){return Math.abs(t.value[1])},offset:[-2,0]},z:10,itemStyle:{color:{type:"linear",x:1,y:0,x2:0,y2:0,colorStops:[{offset:0,color:"#01C1FF"},{offset:1,color:"#00F6FF"}],global:!1}},encode:{x:"landCount",y:"landType"}}]},o={name:"land-distributed-8",props:{farmAreaInfo:{type:Object,default:function(){return Object(r.b)()}},groupFlag:{type:Boolean,default:!1}},data:function(){return{menusAxis:[],mainLoading:!0,chartsInstance:null}},mounted:function(){var t=this;this.$nextTick(function(){t.initMoudle()})},methods:{initMoudle:function(){this.refreshChart([this._initEcharts(this.chartsLeftRef,i),this._initEcharts(this.chartsRightRef,Object(r.e)(Object(r.d)(i),{title:{right:"10",left:"auto"},grid:{left:"0",right:"auto"},dataset:{source:[["landType","landAcre"]]},series:[{label:{color:"#E5E467",position:"right"},itemStyle:{color:{colorStops:[{offset:0,color:"#E6E768"},{offset:1,color:"#D29C50"}]}},encode:{x:"landAcre",y:"landType"}}]}))])},refreshRender:function(){this.chartsInstance&&this.chartsInstance.forEach(function(t){t.resize()})},getPlotTypeStatistical:function(){return this.$ajax.post(this.$api.plotlist.landTypeDistributionlist,{}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj}).catch(function(t){console.log(new Error("获取用地类型"),t)})},getAreaLandTypeDistribution:function(){return this.$ajax.post(this.$api.public.areaLandTypeDistribution,{farmAreaId:[this.farmAreaInfo.farmAreaId],farmAreaType:this.farmAreaInfo.farmAreaType}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj}).catch(function(t){console.log(new Error("获取用地类型---非集团版本"),t)})},_initEcharts:function(t,e){var n=this.$echarts.init(t);return n.setOption(e),n},refreshChart:function(t){var e=this;return function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(r,i){try{var o=e[r](i),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}("next")})}}(regeneratorRuntime.mark(function n(){var a,i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(e.groupFlag?e.getPlotTypeStatistical:e.getAreaLandTypeDistribution)();case 2:(a=n.sent).list.reverse(),i=a.list.map(function(t){return[t.landType,-t.landNum]}),o=a.list.map(function(t){return[t.landType,Object(r.j)({value:t.landAcre/1e4})]}),i.unshift(["landType","landCount"]),o.unshift(["landType","landAcre"]),e.menusAxis=a.list.map(function(t){return t.landType}).reverse(),e.chartsInstance=t,t[0].setOption({title:{show:e.menusAxis.length>0,text:"地块数（个）： "+a.list.reduce(function(t,e){return t+e.landNum},0)},dataset:{source:i},tooltip:{formatter:function(t){return t.value[0]+"："+Math.abs(t.value[1])+"个"}}}),t[1].setOption({title:{show:e.menusAxis.length>0,text:"面积（万亩）："+Object(r.j)({value:a.list.reduce(function(t,e){return t+e.landAcre},0)/1e4})},dataset:{source:o},tooltip:{formatter:function(t){return t.value[0]+"："+Math.abs(t.value[1])+"万亩"}}}),e.mainLoading=!1;case 13:case"end":return n.stop()}},n,e)}))()}},computed:{chartsLeftRef:function(){return this.$refs.chartsLeft},chartsRightRef:function(){return this.$refs.chartsRight}},components:{areaPanel:a.default}},s=n("W5g0");var l=function(t){n("fTdu")},c=Object(s.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.mainLoading,expression:"mainLoading"}],staticClass:"gov-area-panel",attrs:{"element-loading-spinner":"iconfont icon-loading1","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[n("area-panel",{attrs:{"area-title":"生产用地类型统计","show-sub-title":!1}},[n("div",{staticClass:"charts-container",attrs:{slot:"panelMain"},slot:"panelMain"},[n("div",{ref:"chartsLeft",staticClass:"charts-content l-charts-content"}),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.menusAxis.length>0,expression:"menusAxis.length > 0"}],staticClass:"menus-axis"},t._l(t.menusAxis,function(e,a){return n("li",{key:a,staticClass:"menu-name"},[n("span",[t._v(t._s(e))])])}),0),t._v(" "),n("div",{ref:"chartsRight",staticClass:"charts-content r-charts-content"}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.mainLoading&&0===t.menusAxis.length,expression:"!mainLoading && menusAxis.length === 0"}],staticClass:"no-data"},[n("span",[t._v("暂无数据")])])])])],1)},[],!1,l,"data-v-4b33ee24",null);e.default=c.exports}});
//# sourceMappingURL=34.21d09b1fbe70d454459d.js.map