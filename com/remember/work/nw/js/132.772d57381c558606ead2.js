webpackJsonp([132],{fNk6:function(e,t){},pUSI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("xk5x"),r=a("AQ5S"),i=a("TXSd"),o=a.n(i),s=a("VCTt");var d={name:"plot-video-10",props:{farmAreaInfo:{type:Object,default:function(){return Object(s.b)()}}},data:function(){return{videoInfo:null,mainLoading:!0,farmId:"3573",farmName:"",showVideo:!1}},mounted:function(){var e=this;this.$nextTick(function(){e.stopRender(),e.initMoudle()})},destroyed:function(){this.stopRender()},methods:{initMoudle:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopRender(),t.showVideo=!1,e.next=4,t.getAreaCameraListByArea();case 4:a=e.sent,t.mainLoading=!1,a&&a.list.length?(t.videoInfo=a.list[0],t.farmId=a.list[0].farmId,t.farmName=a.list[0].farmName):(t.farmName="未配置示例摄像头",t.videoInfo=null),t.showVideo=!0;case 8:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,i){try{var o=t[r](i),s=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})})()},stopRender:function(){o()()},getAllIoTTheFarm:function(){return this.$ajax.post(this.$api.farmDetail.getIotAll,{farmId:this.farmId}).then(function(e){var t=e.data;if(0===t.respCode)return t.obj}).catch(function(e){console.log(new Error("获取农场下的所有物联网设备"),e)})},getAreaCameraListByArea:function(){return this.$ajax.post(this.$api.areaCameraConfig.listByArea,{farmAreaId:[this.farmAreaInfo.farmAreaId],farmAreaType:this.farmAreaInfo.farmAreaType}).then(function(e){var t=e.data;if(0===t.respCode)return t.obj}).catch(function(e){console.log(new Error("获取农场下的所有物联网设备"),e)})},handlePage:function(){this.videoInfo?this.$router.push({path:"/iotDevice/"+this.farmId,query:{farmName:this.farmName}}):this.$message({type:"warning",message:"未配置示例基地",center:!0})}},components:{areaPanel:n.default,hlsVideo:r.default}},f=a("W5g0");var u=function(e){a("fNk6")},l=Object(f.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.mainLoading,expression:"mainLoading"}],staticClass:"gov-area-panel",attrs:{"element-loading-spinner":"iconfont icon-loading1","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[a("area-panel",{attrs:{"area-title":"物联网监控",subTitle:"更多"},on:{"hand-sub-title":e.handlePage}},[a("div",{staticClass:"video-container",attrs:{slot:"panelMain"},slot:"panelMain"},[a("p",{staticClass:"video-head"},[e._v(e._s(e.farmName))]),e._v(" "),a("div",{staticClass:"video-wrap"},[e.showVideo?a("hls-video",{attrs:{"video-id":"baseDefaultVideo","video-quality":e.videoInfo}}):e._e()],1)])])],1)},[],!1,u,"data-v-12186f80",null);t.default=l.exports}});
//# sourceMappingURL=132.772d57381c558606ead2.js.map