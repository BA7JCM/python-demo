webpackJsonp([24],{"3N9F":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("xk5x"),a=r("VCTt"),i=r("VKKs"),o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){a=!0,i=t}finally{try{!n&&l.return&&l.return()}finally{if(a)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function l(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object(i.b)("govGovernmentSubjectVO");var s={title:{show:!1,text:"暂无数据",textStyle:{fontSize:12,color:"#6DC1CB"},left:"center",top:"center"},grid:{show:!1,borderColor:"#0D394A",bottom:40,top:40,left:"13%",right:"13%"},tooltip:{show:!0,trigger:"axis",formatter:function(t){var e=t.map(function(t){var e="肥料"===t.seriesName?"吨":"千克";return null!==t.value?t.seriesName+"："+Object(a.l)({value:t.value,unit:"",base:1,places:3}).formatter+" "+e:""});return t[0].axisValue+"<br/>"+e.join("<br />")},backgroundColor:"#043250",padding:[13,14,13,11],textStyle:{fontSize:12,color:"#9ED2D8"}},legend:{show:!0,type:"plain",textStyle:{color:"#6DC1CB",fontSize:12},backgroundColor:"rgba(255, 255, 255, 0)",top:6,itemWidth:30,itemHeight:10,height:20,data:[{name:"肥料",icon:"image://"+r("Zg+v")},{name:"农药",icon:"image://"+r("IG9e")}]},xAxis:{data:[],boundaryGap:!1,axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12},align:"center"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(109,193,203,0.2)"}},z:10},yAxis:[{name:"(吨)",position:"left",min:0,splitNumber:5,nameTextStyle:{fontSize:12,color:"#6DC1CB",padding:[3,25,2,0]},axisLine:{show:!1,lineStyle:{color:"#0D394A"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(109,193,203,0.2)"}},axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12},formatter:function(t){return Object(a.l)({value:t,unit:"",base:1,places:1}).formatter},margin:2}},{name:"(千克)",position:"right",min:0,splitNumber:5,nameTextStyle:{fontSize:12,color:"#6DC1CB",padding:[3,0,2,10]},axisLine:{show:!1,lineStyle:{color:"#0D394A"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(109,193,203,0.2)"}},axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12},formatter:function(t){return Object(a.l)({value:t,unit:"",base:1,places:1}).formatter},margin:2}}],series:[{name:"肥料",data:[],type:"line",yAxisIndex:0,symbol:"circle",symbolSize:5,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0, 162, 255, 0.5)"},{offset:1,color:"rgba(60, 105, 217, 0)"}],global:!1}},lineStyle:{color:"#32CEBC"},itemStyle:{color:"#32CEBC"}},{name:"农药",data:[],type:"line",yAxisIndex:1,symbol:"circle",symbolSize:5,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(212, 167, 84, 0.5)"},{offset:1,color:"rgba(212, 167, 84, 0)"}],global:!1}},lineStyle:{color:"#D4A452"},itemStyle:{color:"#D4A452"}}]},c={name:"argi-materials-trend-14",props:{farmAreaInfo:{type:Object,default:function(){return Object(a.b)()}},dataTargetFlag:{type:Number,default:function(){return 0}}},data:function(){return{chartsInstance:null,loading:!1,startTimeStr:""}},mounted:function(){this.initMoudle()},methods:{initMoudle:function(){var t,e,r=this;return new Promise((t=regeneratorRuntime.mark(function t(e){var n,a,i,l,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.loading=!0,r.chartsInstance=r._initEcharts(r.eContainerRef,s),t.next=4,r.getListByAreaAndMonth(r.farmAreaInfo.farmAreaId,r.farmAreaInfo.farmAreaType);case 4:if(n=t.sent,a=o(n,2),i=a[0],l=o(a[1],2),c=l[0],u=l[1],r.loading=!1,i){t.next=13;break}return t.abrupt("return",e(!1));case 13:if(c===r.farmAreaInfo.farmAreaId&&u===r.farmAreaInfo.farmAreaType){t.next=15;break}return t.abrupt("return",e(!1));case 15:r.renderChartfn(r.chartsInstance,i),e(!0);case 17:case"end":return t.stop()}},t,r)}),e=function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(a,i){try{var o=e[a](i),l=o.value}catch(t){return void r(t)}if(!o.done)return Promise.resolve(l).then(function(t){n("next",t)},function(t){n("throw",t)});t(l)}("next")})},function(t){return e.apply(this,arguments)}))},refreshRender:function(){this.chartsInstance&&this.chartsInstance.resize()},_initEcharts:function(t,e){var r=this.$echarts.init(t);return r.setOption(e),r},getListByAreaAndMonth:function(t,e){this.startTimeStr=this._beforeSixMonthStart();var r=Object(a.h)({startTime:this.startTimeStr,howMonth:6}),n=arguments;return this.$ajax.post(this.$api.overview.getListByAreaAndMonth,{farmAreaId:[t],farmAreaType:e,dateListStr:r,dataTargetFlag:this.dataTargetFlag}).then(function(t){var e=t.data;return 0===e.respCode?[e.obj,[].concat(l(n))]:[null,[].concat(l(n))]}).catch(function(t){console.log("农资使用趋势数据 error: ",t)})},renderChartfn:function(t,e){var r=this._getxAxisData(this.startTimeStr),n=e.fertList.map(function(t){return t.totalAmount}),a=Math.max.apply(Math,l(n))||1,i=e.pestList.map(function(t){return t.totalAmount}),o=Math.max.apply(Math,l(i))||1;t.setOption({xAxis:{data:r.map(function(t){return String(t)+"月"})},yAxis:[{max:a,interval:a/5},{max:o,interval:o/5}],series:[{data:n},{data:i}]})},_beforeSixMonthStart:function(){var t,e,r=(new Date).getFullYear(),n=(new Date).getMonth()+1;return n<6?(t=r-1,e=6+n):(t=r,e=n-6),t+"-"+e+"-01"},_getxAxisData:function(t){var e=[],r=t.split("-")[1];r=0===r.indexOf("0")?parseInt(r.slice(1)):parseInt(r);for(var n=0;n<6;n++)e.push(r+n);return e}},computed:{eContainerRef:function(){return this.$refs.EContainer}},components:{areaPanel:n.default}},u=r("W5g0");var f=function(t){r("nMvH")},m=Object(u.a)(c,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"gov-area-panel",attrs:{"element-loading-spinner":"iconfont icon-loading1","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[e("area-panel",{attrs:{"area-title":"农资使用趋势"}},[e("div",{staticClass:"sub-title head-sub-title",attrs:{slot:"subTitle"},slot:"subTitle"},[this._v("近6个月")]),this._v(" "),e("div",{ref:"EContainer",staticClass:"echart-container",attrs:{slot:"panelMain"},slot:"panelMain"})])],1)},[],!1,f,"data-v-b04340fe",null);e.default=m.exports},nMvH:function(t,e){}});
//# sourceMappingURL=24.3ebd30e2426eadecf915.js.map