webpackJsonp([131],{"8b9Y":function(t,i){},VD73:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});a("PvbX");var e={name:"cropLandListTabs",data:function(){return{activeName:"种养品种",allimg:{imga:a("Pzue"),imgb:a("XJN0"),imgc:a("NUlc"),imgd:a("1WKC"),lvseimg:a("sqi+")},landStatusMap:["-","使用中","闲置中"],prevclicktime:0,isClickLandList:!1}},props:{cropList:{default:function(){return[]},type:Array},landList:{default:function(){return[]},type:Array}},computed:{},created:function(){},mounted:function(){var t,i=this;return(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.initListScrollfn(!0);case 1:case"end":return t.stop()}},t,i)}),function(){var i=t.apply(this,arguments);return new Promise(function(t,a){return function e(s,n){try{var r=i[s](n),l=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(l).then(function(t){e("next",t)},function(t){e("throw",t)});t(l)}("next")})})()},methods:{initListScrollfn:function(t){var i=this;t?this.$nextTick(function(){$(i.$refs.croplistref).niceScroll({cursorcolor:"rgba(0, 247, 255 ,0.4)",cursorwidth:"3px",cursorborder:"",autohidemode:!0,smoothscroll:!1,railpadding:{top:0,right:-10,left:0,bottom:0}})}):this.$nextTick(function(){$(i.$refs.arealistref).niceScroll({cursorcolor:"rgba(0, 247, 255 ,0.4)",cursorwidth:"3px",cursorborder:"",autohidemode:!0,smoothscroll:!1,railpadding:{top:0,right:-10,left:0,bottom:0}})})},clickCropItemfn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1];if(this.preventFastClicks()){for(var a=!1,e=0;e<t.length;e++)for(var s=0;s<this.$parent.allpolygon.length;s++)this.$parent.allpolygon[s].areaid==t[e]&&(a=!0);window.layer.closeAll("page"),this.$parent.plotdialogVisible=!1,t&&t.length>=1&&a?(this.$parent.isclickarea=!1,this.$parent.syncAreaSelectfn(t,!1),this.selectCropAreaList(i,!1)):(this.$parent.syncAreaSelectfn([],!1),this.$message("该品种的地块未绘制轮廓，无法在地图中查看"))}},clickAreaItemfn:function(t){var i=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.preventFastClicks()){if(a)return this.$parent.isclickarea=!0,this.$parent.syncAreaSelectfn([],!1),this.$message("该地块未绘制轮廓，无法在地图中查看"),!1;this.isClickLandList=!0,setTimeout(function(){i.isClickLandList=!1}),this.selectCropAreaList(t,!0),this.$parent.syncAreaSelectfn([t],!0)}},selectCropAreaList:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cropList.map(function(t){return t.select=!1}),this.landList.map(function(t){return t.select=!1}),a&&(this.activeName="地块",this.initListScrollfn(!1)),-1!==i&&(a?this.landList.map(function(a){a.id===i&&(a.path?a.select=!0:t.$message("该地块未绘制轮廓，无法在地图中查看"))}):this.cropList[i].select=!0)},preventFastClicks:function(){var t=!1,i=Date.parse(new Date);return this.prevclicktime&&i<this.prevclicktime+500?t=!1:(t=!0,this.prevclicktime=Date.parse(new Date)),t}},watch:{landList:{handler:function(){var t=this,i=-1;if(this.landList.map(function(t,a){t.select&&(i=a)}),!this.isClickLandList&&-1!==i){var a=60*(i-3);a=a<0?0:a,this.initListScrollfn(!1),setTimeout(function(){$(t.$refs.arealistref).getNiceScroll(0).doScrollTop(a,100)},200)}},deep:!0}}},s=a("W5g0");var n=function(t){a("8b9Y")},r=Object(s.a)(e,function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"tabs-container fr landdrap"},[a("div",{staticClass:"tabs-wrap"},[a("el-tabs",{on:{"tab-click":function(i){t.initListScrollfn("0"===i.index)}},model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"种养品种",name:"种养品种"}},[a("div",{staticClass:"tabitem"},[a("div",{ref:"croplistref",staticClass:"plantlistcon"},[t.cropList.length?a("ul",t._l(t.cropList,function(i,e){return a("li",{key:i.cropId,staticClass:"clearfix",class:{active:i.select},attrs:{cropid:i.cropId},on:{click:function(){t.clickCropItemfn(i.landIdList,e)}}},[a("div",{staticClass:"plantimg plant-pic"},[a("img",{attrs:{src:t.aliimgresizefn(i.imgUrl,40,40),alt:"loading"}})]),t._v(" "),a("div",{staticClass:"plantname"},[t._v(t._s(i.cropName))]),t._v(" "),a("div",{staticClass:"plot-area"},[t._v(t._s(i.allLandAcre)+"亩")])])}),0):a("ul",[a("li",{staticClass:"clearfix noplant"},[a("p",[a("img",{attrs:{src:t.allimg.imgb,alt:""}})]),t._v(" "),a("p",[t._v("暂无种养品种")])])])])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"地块",name:"地块"}},[a("div",{staticClass:"tabitem"},[a("div",{ref:"arealistref",staticClass:"arealistcon"},[t.landList.length?a("ul",t._l(t.landList,function(i,e){return a("li",{key:i.id,staticClass:"clearfix",class:{active:i.select,item_noarea:!i.path},attrs:{areaid:i.id},on:{click:function(){t.clickAreaItemfn(i.id,!i.path)}}},[a("div",{staticClass:"areaimg"},[a("img",{attrs:{src:i.landTypeImgUrl,alt:"loading"}})]),t._v(" "),a("div",{staticClass:"areaname"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(i.landName)+"\n\t\t\t\t\t\t\t\t\t"),i.path?t._e():a("span",{staticClass:"editarea",attrs:{title:"未绘制轮廓"}},[a("i")])]),t._v(" "),a("div",{staticClass:"status plant",class:["plant_"+i.landStatus]},[t._v(t._s(t.landStatusMap[i.landStatus]))])])}),0):a("ul",[a("li",{staticClass:"clearfix noarea"},[a("p",[a("img",{attrs:{src:t.allimg.imgc,alt:""}})]),t._v(" "),a("p",[t._v("尚未添加地块")])])])])])])],1)],1)])},[],!1,n,"data-v-12329682",null);i.default=r.exports}});
//# sourceMappingURL=131.ea99043d10fbd4a2c037.js.map