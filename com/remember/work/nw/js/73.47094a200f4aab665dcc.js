webpackJsonp([73],{"+SeG":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAoCAYAAACB4MgqAAACjklEQVRYhe3YOWhUURTG8d9kosKgDm4pREE0hbjgVijpNAg2KtioCDYBjY1LKQqCiFhp4YYbCIpLELciaiMIRlIIFgErwVKEFO6goLG4IxnHefOW6LwE/ODB3HvOufN/9717zn234FxvCSewCdONbg3iNva1CtA78uVJrOkqrC3YnC9LJm1uRbmq4xWO4Es+PJEq4SDaK+1ya43DAfQ0FSm5vuHar0ZLjfFzc1lS6UN1o3bG81ABSzAHb/Ac3+OCame82erAAF7gDvrxWkjNDZUn+Co8xsKa/tm4ha5GwXmCn8eECFtBqC9To4LzAl9cuRppEtZFGfMCn5vQb16UIS/wdwn9BqMMeYH3i4cfwpMoY17gX3EoxucqXkYZ/wb4duGRvsXOFHEncRQ/6tiuo7tR8Egr5wZcFtIXnK2AXEgQOyTsjW5gi+HKeRdP44JHAr4IVwxDq/w+K8z+/YTjDFSuVMr6qkwTSvTkOrai8KhXZxw7kbKAF3HT8N64nkrCjcUVmcxrLEvgcXQm8Cvjofo3uEDYWH3ErgwMqcG7sDuF/0w8QFtVXyf6sFR4MqexLSVHqsXZgTNp/0CY8T4cw3zswbgqe0HITB8lX9CJwWcJ7+z4pAPXqB0XYziuYy2eJRkwyatSEnJrW5zjCFVCr/gFjXjwAi5hxQihkqoswMfuHuPA9wtVrZmahUeY0cipEfh6HP6bRCnULqTScpRDFPgCoZwX/wFUUi0XzgnrJoR64FNwT4O7baLWCAdUf0xgLXix4tionDdbG3HK75u5P/L4YeFwZrSpG8uqO2pnfDRC/9LK6kbeJ1mZ9R+82RrT4O/zhsig9y3CZ9hYU08r9gnJfSsm5ssTq0/CRO/9CQhOXSUqhTuQAAAAAElFTkSuQmCC"},I0Vf:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});e("PvbX");var a=e("Xtqa");function r(t){return function(){var i=t.apply(this,arguments);return new Promise(function(t,e){return function a(r,n){try{var s=i[r](n),c=s.value}catch(t){return void e(t)}if(!s.done)return Promise.resolve(c).then(function(t){a("next",t)},function(t){a("throw",t)});t(c)}("next")})}}var n={name:"CropLandListTabs",data:function(){return{activeName:"种养品种",allimg:{imga:e("Pzue"),imgb:e("XJN0"),imgc:e("NUlc"),imgd:e("1WKC"),lvseimg:e("sqi+")},landStatusMap:["-","使用中","闲置中"],prevclicktime:0,isClickLandList:!1}},props:{companyCode:{default:"",type:String},landList:{default:function(){return[]},type:Array},cropList:{default:function(){return[]},type:Array}},computed:{},created:function(){},mounted:function(){var t=this;return r(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:setTimeout(function(){t.initListScrollfn(!0)},500);case 1:case"end":return i.stop()}},i,t)}))()},methods:{initListScrollfn:function(t){var i=this;t?this.$nextTick(function(){$(i.$refs.croplistref).niceScroll({cursorcolor:"rgba(0, 247, 255 ,0.4)",cursorwidth:"3px",cursorborder:"",autohidemode:!0,smoothscroll:!1,railpadding:{top:0,right:-10,left:0,bottom:0}})}):this.$nextTick(function(){$(i.$refs.arealistref).niceScroll({cursorcolor:"rgba(0, 247, 255 ,0.4)",cursorwidth:"3px",cursorborder:"",autohidemode:!0,smoothscroll:!1,railpadding:{top:0,right:-10,left:0,bottom:0}})})},clickCropItemfn:function(t){var i=this;return r(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventFastClicks()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,i.postCropIdGetLandIds(i.companyCode,t);case 5:a=e.sent,i.$emit("cropTabClickEv",{productId:t,gisIds:a});case 7:case"end":return e.stop()}},e,i)}))()},clickAreaItemfn:function(t,i){this.preventFastClicks()&&this.$emit("landTabClickEv",{areaid:t,hasArea:i})},selectCropAreaList:function(t){var i=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cropList.map(function(t){return t.select=!1}),this.landList.map(function(t){return t.select=!1}),this.isClickLandList=!0,setTimeout(function(){i.isClickLandList=!1}),e&&(this.activeName="地块",this.initListScrollfn(!1)),t&&(e?this.landList.map(function(i){i.gisPlotId===t&&(i.select=!0)}):this.cropList.map(function(i){i.productId===t&&(i.select=!0)}))},postCropIdGetLandIds:function(t,i){var e=this;return new Promise(function(a){e.$ajax.post(e.$api.nongwei.zzCropGetPlotids,{companyCode:t,productId:i}).then(function(t){var i=t.status,e=t.data;200===i&&0==e.respCode&&e.obj?a(e.obj):a(!1)}).catch(function(t){a(!1)})})},preventFastClicks:function(){var t=!1,i=Date.parse(new Date);return this.prevclicktime&&i<this.prevclicktime+500?t=!1:(t=!0,this.prevclicktime=Date.parse(new Date)),t}},filters:{numTofixed:function(t){return Object(a.b)(t,3)}},watch:{landList:{handler:function(){var t=this,i=-1;if(this.landList.map(function(t,e){t.select&&(i=e)}),!this.isClickLandList&&-1!==i){var e=60*(i-3);e=e<0?0:e,setTimeout(function(){$(t.$refs.arealistref).getNiceScroll(0).doScrollTop(e,200)},200)}},deep:!0}}},s=e("W5g0");var c=function(t){e("SSLm")},o=Object(s.a)(n,function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"tabs-container fr landdrap"},[a("div",{staticClass:"tabs-wrap"},[a("el-tabs",{on:{"tab-click":function(i){t.initListScrollfn("0"===i.index)}},model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"种养品种",name:"种养品种"}},[a("div",{staticClass:"tabitem"},[a("div",{ref:"croplistref",staticClass:"plantlistcon"},[t.cropList.length?a("ul",t._l(t.cropList,function(i,r){return a("li",{key:i.productId,staticClass:"clearfix",class:{active:i.select},attrs:{cropid:i.productId},on:{click:function(){t.clickCropItemfn(i.productId)}}},[a("div",{staticClass:"plantimg plant-pic"},[i.imgUrl?a("img",{attrs:{src:t.aliimgresizefn(i.imgUrl,40,40),alt:"loading"}}):a("span",{staticClass:"no-img"},[a("img",{attrs:{src:e("+SeG"),alt:"loading"}})])]),t._v(" "),a("div",{staticClass:"plantname"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(i.productName)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"plot-area"},[t._v(t._s(t._f("numTofixed")(i.area))+"亩")])])}),0):a("ul",[a("li",{staticClass:"clearfix noplant"},[a("p",[a("img",{attrs:{src:t.allimg.imgb,alt:""}})]),t._v(" "),a("p",[t._v("暂无种养品种")])])])])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"地块",name:"地块"}},[a("div",{staticClass:"tabitem"},[a("div",{ref:"arealistref",staticClass:"arealistcon"},[t.landList.length?a("ul",t._l(t.landList,function(i,e){return a("li",{key:i.gisPlotId,staticClass:"clearfix",class:{active:i.select,item_noarea:!i.hasArea},attrs:{areaid:i.gisPlotId},on:{click:function(){t.clickAreaItemfn(i.gisPlotId,i.hasArea)}}},[a("div",{staticClass:"areapointer"}),t._v(" "),a("div",{staticClass:"areaname"},[a("span",[t._v(t._s(i.name))]),t._v(" "),i.hasArea?t._e():a("i",[t._v("无地块轮廓")])]),t._v(" "),a("div",{staticClass:"plot-area"},[t._v(t._s(t._f("numTofixed")(i.area))+"亩")])])}),0):a("ul",[a("li",{staticClass:"clearfix noarea"},[a("p",[a("img",{attrs:{src:t.allimg.imgc,alt:""}})]),t._v(" "),a("p",[t._v("尚未添加地块")])])])])])])],1)],1)])},[],!1,c,"data-v-46dc2774",null);i.default=o.exports},SSLm:function(t,i){}});
//# sourceMappingURL=73.47094a200f4aab665dcc.js.map