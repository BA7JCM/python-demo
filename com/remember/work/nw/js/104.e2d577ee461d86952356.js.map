{"version":3,"file":"static/js/104.e2d577ee461d86952356.js","sources":["webpack:///src/components/planting/BusinessScaleAnalysis.vue"],"sourcesContent":["<template>\r\n\t<box-item title=\"经营规模分析\">\r\n\t\t<div class=\"echart-container\" ref=\"EContainer\"></div>\r\n\t</box-item>\r\n</template>\r\n\r\n<script>\r\nimport BoxItem from '@/components/common/BoxItem';\r\n\r\n// echarts 超级变量含义 {a} series.name, {b} data.name {c} data.value {d} data%\r\nconst barChartOption = {\r\n\tgrid: {\r\n\t\tshow: false,\r\n\t\ttop: 20,\r\n\t\tleft: 15,\r\n\t\tright: 15,\r\n\t\tbottom: 30\r\n\t},\r\n\ttooltip: {\r\n\t\tshow: true,\r\n\t\ttrigger: 'item',\r\n\t\tformatter({data}) {\r\n\t\t\treturn [data.name, `经营主体数量：${data.totalNumber}家`, `经营主体总占地面积：${data.value}万亩`].join('<br />');\r\n\t\t\t// return `${a.name}<br/>经营主体数量：${a.value}家`;\r\n\t\t},\r\n\t\tbackgroundColor: '#043250',\r\n\t\tpadding: [13, 14, 13, 11],\r\n\t\ttextStyle: {\r\n\t\t\tfontSize: 12,\r\n\t\t\tcolor: '#9ED2D8'\r\n\t\t}\r\n\t},\r\n\txAxis: {\r\n\t\tdata: [],\r\n\t\taxisLabel: {\r\n\t\t\tinterval: 0,\r\n\t\t\ttextStyle: {\r\n\t\t\t\tcolor: '#6EC2CB',\r\n\t\t\t\tfontSize: 12,\r\n\t\t\t\tlineHeight: 14\r\n\t\t\t},\r\n\t\t\talign: 'center'\r\n\t\t},\r\n\t\taxisTick: {\r\n\t\t\tshow: false\r\n\t\t},\r\n\t\taxisLine: {\r\n\t\t\tshow: false\r\n\t\t}\r\n\t},\r\n\tyAxis: {\r\n\t\tshow: false,\r\n\t\tname: '单位：',\r\n\t\tnameTextStyle: {\r\n\t\t\tfontSize: 14,\r\n\t\t\tcolor: '#6DC1CB',\r\n\t\t\tpadding: [0, 0, 10, 0]\r\n\t\t},\r\n\t\taxisLine: {\r\n\t\t\tshow: false,\r\n\t\t\tlineStyle: {\r\n\t\t\t\tcolor: '#0D394A'\r\n\t\t\t}\r\n\t\t},\r\n\t\taxisTick: {\r\n\t\t\tshow: false\r\n\t\t},\r\n\t\tsplitLine: {\r\n\t\t\tshow: true,\r\n\t\t\tlineStyle: {\r\n\t\t\t\tcolor: '#0D394A'\r\n\t\t\t}\r\n\t\t},\r\n\t\taxisLabel: {\r\n\t\t\ttextStyle: {\r\n\t\t\t\tcolor: '#6DC1CB',\r\n\t\t\t\tfontSize: 12\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tseries: [\r\n\t\t{\r\n\t\t\t// 背景bar\r\n\t\t\ttype: 'bar',\r\n\t\t\titemStyle: {\r\n\t\t\t\tnormal: {\r\n\t\t\t\t\tcolor: 'rgba(4, 190, 254, 0.2)'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsilent: true,\r\n\t\t\tbarWidth: 50,\r\n\t\t\tlabel: {\r\n\t\t\t\tshow: true,\r\n\t\t\t\tposition: 'top',\r\n\t\t\t\tcolor: '#FEEB48',\r\n\t\t\t\tfontWeight: 'bold',\r\n\t\t\t\tfontSize: 12,\r\n\t\t\t\tformatter({data}) {\r\n\t\t\t\t\treturn `${data.labelValue}家`;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbarGap: '-100%', // Make series be ove\r\n\t\t\tdata: []\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'bar',\r\n\t\t\tbarWidth: 50,\r\n\t\t\tlabel: {\r\n\t\t\t\tshow: true,\r\n\t\t\t\tposition: 'top',\r\n\t\t\t\t// color: '#030E22',\r\n\t\t\t\tcolor: '#00F6FF',\r\n\t\t\t\tfontSize: 12,\r\n\t\t\t\tfontWeight: 'bold',\r\n\t\t\t\tformatter: '{c}\\n万亩'\r\n\t\t\t},\r\n\t\t\tdata: [],\r\n\t\t\tz: 10,\r\n\t\t\titemStyle: {\r\n\t\t\t\tcolor: {\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0,\r\n\t\t\t\t\tx2: 0,\r\n\t\t\t\t\ty2: 1,\r\n\t\t\t\t\tcolorStops: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\tcolor: '#00F6FF' // 0% 处的颜色\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\tcolor: '#01C1FF' // 100% 处的颜色\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tglobal: false // 缺省为 false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t]\r\n};\r\nexport default {\r\n\tname: 'BusinessScaleAnalysis',\r\n\tprops: {},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tchart: null\r\n\t\t};\r\n\t},\r\n\tcreated() {},\r\n\tmounted() {\r\n\t\tthis.initPage();\r\n\t\twindow.addEventListener('resize', this.resizeChart, false);\r\n\t},\r\n\tmethods: {\r\n\t\tinitPage() {\r\n\t\t\tthis.chart = this._initEcharts(this.eContainerRef, barChartOption);\r\n\t\t\tthis.renderChart();\r\n\t\t\tthis.adaptationChart();\r\n\t\t},\r\n\t\t_initEcharts(el, option) {\r\n\t\t\tconst chart = this.$echarts.init(el);\r\n\t\t\tchart.setOption(option);\r\n\t\t\treturn chart;\r\n\t\t},\r\n\t\trenderChart() {\r\n\t\t\tconst xAxis = [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '≥500亩',\r\n\t\t\t\t\tvalue: 330\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '100-500亩',\r\n\t\t\t\t\tvalue: 3878\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '50-100亩',\r\n\t\t\t\t\tvalue: 991\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '10-50亩',\r\n\t\t\t\t\tvalue: 3249\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '<10亩',\r\n\t\t\t\t\tvalue: 21020\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tconst areaArr = [65.66, 71.95, 7.29, 7.01, 6.58];\r\n\t\t\tconst chartData = xAxis.map((item, index) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...item,\r\n\t\t\t\t\tvalue: areaArr[index],\r\n\t\t\t\t\ttotalNumber: item.value\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tconst totalValue = areaArr.reduce((total, item) => {\r\n\t\t\t\treturn total + item;\r\n\t\t\t}, 0);\r\n\t\t\tconst bgChartData = xAxis.map(item => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tname: item.name,\r\n\t\t\t\t\tvalue: totalValue,\r\n\t\t\t\t\tlabelValue: item.value\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tthis.chart.setOption({\r\n\t\t\t\txAxis: {\r\n\t\t\t\t\tdata: xAxis.map(item => item.name)\r\n\t\t\t\t},\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: bgChartData\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata: chartData\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t},\r\n\t\tresizeChart() {\r\n\t\t\tif (this.chart) {\r\n\t\t\t\tthis.adaptationChart();\r\n\t\t\t\tthis.chart.resize();\r\n\t\t\t}\r\n\t\t},\r\n\t\tadaptationChart() {\r\n\t\t\tconsole.log('111111111111')\r\n\t\t\tconst htmlWidth = document.documentElement.clientWidth || document.body.clientWidth;\r\n\t\t\tconst opts = {\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tfontSize: 12\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tfontSize: 12\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\t\tif (htmlWidth > 3000) {\r\n\t\t\t\topts.series[0].label.fontSize = 16;\r\n\t\t\t\topts.series[1].label.fontSize = 15;\r\n\t\t\t\tif (this.chart) {\r\n\t\t\t\t\tthis.chart.setOption(opts);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\topts.series[0].label.fontSize = 12;\r\n\t\t\t\topts.series[1].label.fontSize = 12;\r\n\t\t\t\tif (this.chart) {\r\n\t\t\t\t\tthis.chart.setOption(opts);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\teContainerRef() {\r\n\t\t\treturn this.$refs.EContainer;\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tBoxItem\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.echart-container {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/planting/BusinessScaleAnalysis.vue"],"mappings":"AAUA","sourceRoot":""}