webpackJsonp([119],{JZu2:function(e,r){},c8Eu:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("wggp"),a=t.n(n),o=t("PbuP"),i=t("yTDo"),s=t("R9IU"),u=t("jIOT"),l=t("VKKs"),c=(t("PvbX"),function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}());function p(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function f(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function n(a,o){try{var i=r[a](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var d={inject:["farmDetailRefs"],data:function(){return{gismap:null,gisloading:!0,temptoken:"",tileMap:{weixing:"/shanghaiArcGIS/rest/services/SHMAP_IMAGE/MapServer"},options:{url:"http://gov.snkoudai.com/mapdemo/arcgis3.28/init.js"},allPlotMarkerLayer:null,allPlotPolygonLayer:null,activePlotsLayer:null,greenCertPlotsLayer:null,serviceMap:{nongyongdi:"",dapeng:"",hezuosheNaturalBorder:""},homeLatLng:[121.12961431068945,30.979833911253177,121.69403691811132,31.266851733518802],wxLayerUpdateEnd:!1,plotidMapImg:{}}},props:{landList:{default:function(){return[]},type:Array},cropList:{default:function(){return[]},type:Array}},computed:{landGisIds:function(){return this.landList.map(function(e){return e.gisPlotId})}},mounted:function(){var e=this;return f(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.init();case 2:if(!e.landList.length){r.next=7;break}return r.next=5,e.renderPlotToMap(e.landList);case 5:r.sent.forEach(function(r,t){var n=r.attributes.DPDKID||r.attributes.DKID;e.landList.forEach(function(e){e.gisPlotId===n&&(e.hasArea=!0)})});case 7:e.$parent.gisloading=!1;case 8:case"end":return r.stop()}},r,e)}))()},methods:{init:function(){var e,r=this;return new Promise((e=f(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.b)("govGovernmentSubjectVO"),a="310100",n&&n.cityId&&2===n.subjectLevel&&(a=n.cityId),n&&n.countyId&&3===n.subjectLevel&&(a=n.countyId),console.log(o.a.hasOwnProperty(a)),a=o.a.hasOwnProperty(a)?a:"310100",r.serviceMap.nongyongdi=o.a[a].nongyongdi,r.serviceMap.dapeng=o.a[a].dapeng,r.serviceMap.hezuosheNaturalBorder=o.a[a].hezuosheNaturalBorder,r.homeLatLng=o.a[a].centerExtend,e.next=12,Object(i.a)(r);case 12:r.temptoken=e.sent,r.$nextTick(f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.initMap();case 2:return e.next=4,r.listenrMapInitStatus();case 4:if(e.sent){e.next=8;break}return window.location.reload(),e.abrupt("return");case 8:dojo.connect(r.gismap,"onClick",r.searchPointer),t();case 10:case"end":return e.stop()}},e,r)})));case 14:case"end":return e.stop()}},e,r)})),function(r){return e.apply(this,arguments)}))},initMap:function(){var e=this;return new Promise(function(r){a.a.loadModules(["esri/map","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ImageParameters","esri/geometry/Point","esri/SpatialReference","esri/geometry/Extent","esri/layers/GraphicsLayer"],e.options).then(function(t){var n=c(t,8),a=n[0],o=n[1],i=(n[2],n[3],n[4],n[5],n[6]),s=n[7],u=e,l=new a("gismap",{extent:new(Function.prototype.bind.apply(i,[null].concat(p(e.homeLatLng),[new esri.SpatialReference({wkid:4326})]))),logo:!1,optimizePanAnimation:!0});dojo.connect(l,"onExtentChange",function(){}),dojo.connect(l,"onZoomEnd",function(e){var r=l.getZoom();u.updateMarker(u.allPlotMarkerLayer.graphics,r+10)});var f=new o(e.tileMap.weixing,{id:"weixing_ditu"});f.on("update-end",function(e){console.log(e.error),u.wxLayerUpdateEnd=!0});try{l.addLayer(f)}catch(e){console.log(e),console.log("报错")}e.allPlotPolygonLayer=new s({visible:!0}),l.addLayer(e.allPlotPolygonLayer),e.greenCertPlotsLayer=new s({visible:!0}),l.addLayer(e.greenCertPlotsLayer),e.activePlotsLayer=new s({visible:!0}),l.addLayer(e.activePlotsLayer),e.allPlotMarkerLayer=new s({visible:!0}),l.addLayer(e.allPlotMarkerLayer),e.gismap=l,r(!0)},function(e){r(!1)})})},listenrMapInitStatus:function(){var e,r=this,t=this,n=!1,a=t.$route.path;function o(){var e,r=this;return new Promise((e=f(regeneratorRuntime.mark(function e(o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){if(t.$route.path===a&&!n){var e=document.getElementById("gismap_weixing_ditu");e&&""!==e.innerHTML&&(n=!0,o(!0))}},setTimeout(i,200),setTimeout(i,500),setTimeout(i,1e3),setTimeout(i,2e3),setTimeout(i,4e3),setTimeout(i,5e3),setTimeout(function(){if(t.$route.path===a&&!n){var e=document.getElementById("gismap_weixing_ditu");e&&""!==e.innerHTML?(n=!0,o(!0)):(document.getElementById("gismap").innerHTML="",console.log("天地图加载有问题 重新加载"),o(!1))}},7e3);case 8:case"end":return e.stop()}},e,r)})),function(r){return e.apply(this,arguments)}))}return new Promise((e=f(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}},e,r)})),function(r){return e.apply(this,arguments)}))},initServerLayer:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nongyongdi";return new Promise(function(t){var n=e.serviceMap[r]+"?token="+e.temptoken;a.a.loadModules(["esri/layers/ArcGISDynamicMapServiceLayer"],e.options).then(function(e){c(e,1)[0];var a=new esri.layers.ArcGISDynamicMapServiceLayer(n,{id:r,outFields:["*"]});t(a)},function(e){console.log(e),t(!1)})})},renderAllPolygon:function(e,r){var t,n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise((t=f(regeneratorRuntime.mark(function t(o){var i,s,u,l,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.length){t.next=3;break}return o(),t.abrupt("return");case 3:return t.next=5,n.mergePolygonRander(e,a);case 5:i=t.sent,s=c(i,2),u=s[0],l=s[1],u.map(function(e){r.add(e)}),p={},l.map(function(e){p[e.plotid]=e}),r.plotFeatures=Object.assign({},p),o();case 14:case"end":return t.stop()}},t,n)})),function(e){return t.apply(this,arguments)}))},mergePolygonRander:function(e,r){var t=this;return new Promise(function(n){a.a.loadModules(["esri/graphic","esri/geometry/Polygon","esri/SpatialReference","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol"],t.options).then(function(a){var o=c(a,5),i=o[0],s=o[1],u=o[2],l=o[3],f=o[4];if(0!==e.length){for(var d={},g=[],y=1===r?4:1,m=0;m<e.length;m++){var h=t.getNowAreaColor(e[m],r),v=c(h,2),w=v[0],P=v[1],b=JSON.parse(JSON.stringify(e[m].geometry.rings)),L=(w+P+y).split(",").join(""),x=e[m].attributes.DPDKID||e[m].attributes.DKID;if(g.push({plotid:x,plotplusid:t.getNYDid(x),areaColor:w,borderColor:P,borderwidth:y,rings:b}),d[L]){b=JSON.parse(JSON.stringify(e[m].geometry.rings));d[L].rings=d[L].rings.concat(b)}else d[L]={areaColor:w,borderColor:P,borderwidth:y,rings:b}}var S=[];for(var k in d){for(var I=d[k],M=(w=I.areaColor,P=I.borderColor,y=I.borderwidth,b=I.rings,new l(l.STYLE_SOLID,new f(f.STYLE_SOLID,new dojo.Color(P),y),new dojo.Color([].concat(p(w),[.3])))),D=new s(new u({wkid:4326})),A=0,R=b.length;A<R;A++)D.addRing(b[A]);S.push(new i(D,M))}n([S,g])}else n(!1)})})},updateFeature:function(e,r,t){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(i){a.a.loadModules(["esri/graphic","esri/geometry/Polygon","esri/SpatialReference","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol"],n.options).then(function(a){var s=c(a,5),u=s[0],l=s[1],f=s[2],d=s[3],g=s[4];if(!e.length)return t.clear(),void i(!0);var y=!1,m={},h=new l(new f({wkid:4326}));if(e.map(function(e){if(r.hasOwnProperty(e)){y=!0;var t=n.getNowAreaColor(r[e],2),a=c(t,2),i=a[0],s=a[1],u=o.stroke,l=void 0===u?s:u,p=o.fillOpacity,f=void 0===p?.3:p,d=o.fill,g=void 0===d?i:d,h=JSON.parse(JSON.stringify(r[e].rings)),v=(g+l+f).split(",").join("");if(m[v]){h=JSON.parse(JSON.stringify(r[e].rings));m[v].rings=m[v].rings.concat(h)}else m[v]={areaColor:g,borderColor:l,borderwidth:4,fillOpacity:f,rings:h}}}),y)for(var v in m){for(var w=m[v],P=w.areaColor,b=w.borderColor,L=w.borderwidth,x=w.fillOpacity,S=w.rings,k=new d(d.STYLE_SOLID,new g(g.STYLE_SOLID,new dojo.Color(b),L),new dojo.Color([].concat(p(P),[x]))),I=(h=new l(new f({wkid:4326})),0),M=S.length;I<M;I++)h.addRing(S[I]);t.add(new u(h,k))}i(y)})})},renderAllMarker:function(e,r){var t=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:17,o=this;return new Promise(function(i){0!==e.length?a.a.loadModules(["esri/graphic","esri/geometry/Point","esri/symbols/PictureMarkerSymbol","esri/SpatialReference"],t.options).then(function(t){for(var a=c(t,4),u=a[0],l=a[1],p=a[2],f=a[3],d=0;d<e.length;d++){var g=JSON.parse(JSON.stringify(e[d].geometry.rings)),y=e[d].attributes.DPDKID||e[d].attributes.DKID;m(g,o.aliimgCircle(o.plotidMapImg[y],48),r)}function m(e,r,t){var a=[];e[0].map(function(e){2===e.length&&a.push(e)});var i=[];a.map(function(e){2===e.length&&i.push(s.point(e))});var d=s.featureCollection(i),g=s.center(d),y=o.computeMarkerPosAnchor(n),m=c(y,2),h=m[0],v=m[1],w=new l(g.geometry.coordinates,new f({wkid:4326})),P=new p({url:r,width:h[0],height:h[1],xoffset:v[0],yoffset:v[1]});t.add(new u(w,P))}i()}):i()})},updateMarker:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];console.log("updateMarker"),r.map(function(r){var n=r.symbol,a=e.computeMarkerPosAnchor(t),o=c(a,2),i=o[0],s=o[1];n.setWidth(i[0]),n.setHeight(i[1]),n.setOffset.apply(n,p(s))})},computeMarkerPosAnchor:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:2,9:4,10:4,11:4,12:6,13:6,14:6,15:6,16:8,17:8,18:12,19:18,20:36,21:42,22:48}[e]:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:2,9:4,10:4,11:4,12:6,13:8,14:8,15:8,16:12,17:16,18:24,19:32,20:40,21:48,22:56}[e],a=[[],[[0,0]],[[24,12],[0,12]],[[12,24],[0,0],[24,0]],[[24,24],[0,24],[0,0],[24,0]]].map(function(e){return e.map(function(e){return e[0]=parseInt(e[0]*n/24),e[1]=parseInt(e[1]*n/24),e}),e})[r][t];return[[n,n],a]},aliimgCircle:function(e,r){return r=r||100,e&&-1!==e.indexOf(".aliyuncs.com/")?e+"?x-oss-process=image/resize,w_"+r+",h_"+r+",m_fill/auto-orient,1/quality,q_100/sharpen,80/format,png":e},getCenterAZoom:function(e){var r=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"company";return new Promise(function(n){for(var o=[],i=[],s=[],u=[],l=0;l<e.length;l++){var f=e[l].geometry.getExtent();o.push(f.xmin),i.push(f.ymin),s.push(f.xmax),u.push(f.ymax)}var d=function(e,r){if(4!==e.length)return[];var t=e[2]-e[0],n=e[3]-e[1];e[0],e[1];if("company"===r){var a=.25*t,o=.25*n;return[e[0]-5*a,e[1]-o,e[2]+5*a,e[3]+1.5*o]}if("plot"===r){var a=t,o=n;return[e[0]-a,e[1]-o,e[2]+a,e[3]+6*o]}}([Math.min.apply(null,o),Math.min.apply(null,i),Math.max.apply(null,s),Math.max.apply(null,u)],t);a.a.loadModules(["esri/geometry/Extent","esri/layers/GraphicsLayer"],r.options).then(function(e){var t=c(e,2),a=t[0],o=(t[1],new(Function.prototype.bind.apply(a,[null].concat(p(d),[new esri.SpatialReference({wkid:4326})]))));r.gismap.setExtent(o);var i=Boolean(d[2]-d[0]>.05||d[3]-d[1]>.05);n(i)})})},searchPointer:function(e){var r=this;return f(regeneratorRuntime.mark(function t(){var n,a,o,i,s,u,l,p,f,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.layersHander(),r.gismap.infoWindow.hide(),t.next=4,r.queryOnePointer(e,"dapeng");case 4:if(n=t.sent,a=c(n,2),o=a[0],i=a[1],!o){t.next=13;break}if(!(s=i.features[0].attributes.DPDKID||"")||!r.landGisIds.includes(s)){t.next=13;break}return r.$parent.cropLandActive(s,!0),t.abrupt("return");case 13:return t.next=15,r.queryOnePointer(e,"nongyongdi");case 15:u=t.sent,l=c(u,2),p=l[0],f=l[1],p?(d=f.features[0].attributes.DKID||"")&&r.landGisIds.includes(d)&&r.$parent.cropLandActive(d,!0):console.log("当前地点无地块数据");case 20:case"end":return t.stop()}},t,r)}))()},layersHander:function(e){switch(e){case 0:this.activePlotsLayer&&this.activePlotsLayer.clear();break;default:this.activePlotsLayer&&this.activePlotsLayer.clear(),this.gismap.infoWindow.hide()}},queryOnePointer:function(e,r){var t=this;return new Promise(function(n){a.a.loadModules(["esri/tasks/QueryTask","esri/tasks/query","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol"],t.options).then(function(a){var o=c(a,4),i=o[0],s=o[1],u=o[2],l=o[3],p=new s;p.returnGeometry=!0,p.outFields=["*"];new u(u.STYLE_SOLID,new l(l.STYLE_SOLID,new dojo.Color([255,255,255]),4),new dojo.Color([255,255,255,.5]));var d,g=new i(t.serviceMap[r]+"/0?token="+t.temptoken);p.geometry=e.mapPoint,g.execute(p,(d=f(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r&&r.features&&r.features.length>0&&r.features[0].attributes&&(r.features[0].attributes.hasOwnProperty("DPDKID")||r.features[0].attributes.hasOwnProperty("DKID"))?n([!0,r]):n([!1,null]);case 1:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)}))})})},showAreaInfo:function(e,r,t){var n=this;if(r.features&&0!=r.features.length){var a=r.features[0].attributes;a.hasOwnProperty("DPDKID")?e.infoWindow.setTitle("大棚: "+a.DPDKID):e.infoWindow.setTitle("农用地: "+a.DKID);var o='<div class="plot-table-content">';for(var i in a){var s=a[i];"Shape_Area"===i?s=p(a.Shape_Area):"SHAPE_Area"===i&&(s=p(a.SHAPE_Area));var l=new RegExp("[\\u4E00-\\u9FFF]+","g");if(u.a.hasOwnProperty(i)||l.test(i)){var c=u.a.hasOwnProperty(i)?u.a[i]:i;s="地块类型"===c&&u.b.hasOwnProperty(s)?u.b[s]:s,s="主体类型"===c&&u.d.hasOwnProperty(s)?u.d[s]:s,a[i]&&""!==a[i]&&" "!==a[i]&&"  "!==a[i]&&(o+='<div><span class="title pyc">'+c+"</span><p>"+s+"</p></div>")}}return o+="</div>",e.infoWindow.setContent(o),e.infoWindow.show(t,e.getInfoWindowAnchor(t)),e.infoWindow.domNode.querySelector(".titleButton.close").addEventListener("click",function(){n.layersHander()}),!0}return!1;function p(e){/\d+e[+-]\d/g.test(e=e)||e<1e-4?e*=16e6:e=parseFloat(e/666.66666666667);var r=e.toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/);return e.toFixed(Math.max(0,(r[1]||"").length-r[2]))}},getNowAreaColor:function(e,r){if(!e||!e.attributes||!(e.attributes["土地类型"]||e.attributes.TYPE||e.attributes.LANDTYPE))return[[51,98,2],[255,0,0]];var t=e.attributes["土地类型"]||e.attributes.TYPE||e.attributes.LANDTYPE;return u.c.hasOwnProperty(t)?e.attributes["土地类型"]?1===r?[u.c[t],[255,0,0]]:2===r?[u.c[t],[215,116,85]]:[u.c[t],u.c[t]]:1===r?[u.c[t],[255,0,0]]:2===r?[u.c[t],[215,116,85]]:[u.c[t],[165,165,165]]:[[201,242,208],[165,165,165]]},renderPlotToMap:function(e){var r,t=this;return new Promise((r=f(regeneratorRuntime.mark(function r(n){var a,o,i,s,u,l,f,d,g,y;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.map(function(e){return t.plotidMapImg[e.gisPlotId]=e.imgUrl,e.gisPlotId}),r.next=3,t.goMorePlotsWithId("nongyongdi",a);case 3:return o=r.sent,i=c(o,2),s=i[0],u=i[1],r.next=9,t.goMorePlotsWithId("dapeng",a);case 9:return l=r.sent,f=c(l,2),d=f[0],g=f[1],y=[],s&&u.length>0&&y.push.apply(y,p(u)),d&&g.length>0&&y.push.apply(y,p(g)),r.next=18,t.renderAllPolygon(y,t.allPlotPolygonLayer,2);case 18:return r.next=20,t.renderAllMarker(y,t.allPlotMarkerLayer,17);case 20:if(!s&&!d){r.next=25;break}return r.next=23,t.getCenterAZoom(y);case 23:r.next=26;break;case 25:t.$message({type:"warning",offset:100,duration:2e3,message:"未搜索到对应地块"});case 26:n(y);case 27:case"end":return r.stop()}},r,t)})),function(e){return r.apply(this,arguments)}))},goMorePlotsWithId:function(e,r){var t=this;return f(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=f(regeneratorRuntime.mark(function n(a){var o,i,s,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=function e(r,t){return r.length>t?[r.splice(0,t)].concat(p(e(r,t))):[r]},r&&0!==r.length){n.next=4;break}return a(),n.abrupt("return");case 4:o=u(JSON.parse(JSON.stringify(r)),1e3),i=t.serviceMap[e]+"/0?token="+t.temptoken,s=[],o.forEach(function(){var r=f(regeneratorRuntime.mark(function r(n,a){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:s.push(t.serverQuery(i,t.plotQueryfn(n,e)));case 1:case"end":return r.stop()}},r,t)}));return function(e,t){return r.apply(this,arguments)}}()),Promise.all(s).then(function(e){var r=!1,t=[];e.forEach(function(e,n){var a=c(e,2),o=a[0],i=a[1];o&&(r=!0),t.push.apply(t,p(i))}),a([r,t])});case 9:case"end":return n.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n,t)}))()},serverQuery:function(e,r){var t=this;return new Promise(function(n){a.a.loadModules(["esri/map","esri/layers/ArcGISDynamicMapServiceLayer","esri/tasks/QueryTask","esri/toolbars/draw","esri/tasks/query","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol"],t.options).then(function(t){var a=c(t,7),o=(a[0],a[1],a[2]),i=(a[3],a[4]),s=(a[5],a[6],new o(e)),u=new i;if(u.outFields=["*"],r&&(u.where=r()),u.where){u.outSpatialReference=esri.spatialReference,u.spatialRelationship=i.SPATIAL_REL_INTERSECTS,u.returnGeometry=!0,u.returnDistinctValues=!1,u.relationParam=!1;try{s.execute(u,function(e){e.features&&0!==e.features.length?n([!0,e.features]):n([!1,[]])})}catch(e){n([!1,[]])}}else n([!1,[]])})})},plotQueryfn:function(e,r){var t="DPDKID",n=e||[];return n=n.filter(function(e){if(e)return e}),"nongyongdi"===r&&(t="DKID"),function(){for(var e="",r=0;r<n.length;r++)n[r]&&(r===n.length-1?e+=t+" = '"+n[r]+"'":e+=t+" = '"+n[r]+"' or ");return e}},greenCertLandActive:function(){var e,r=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((e=f(regeneratorRuntime.mark(function e(n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.greenCertPlotsLayer.clear(),r.allPlotPolygonLayer.plotFeatures&&0!==r.allPlotPolygonLayer.plotFeatures.length){e.next=4;break}return n(!1),e.abrupt("return");case 4:return e.next=6,r.updateFeature(t,r.allPlotPolygonLayer.plotFeatures,r.greenCertPlotsLayer,{stroke:[255,255,255],fillOpacity:.6,fill:[118,255,3]});case 6:if(a=e.sent,!t.length||!a){e.next=10;break}return e.next=10,r.getCenterAZoom(r.greenCertPlotsLayer.graphics);case 10:n(a);case 11:case"end":return e.stop()}},e,r)})),function(r){return e.apply(this,arguments)}))},cropLandActiveRender:function(){var e,r=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];return new Promise((e=f(regeneratorRuntime.mark(function e(a){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.activePlotsLayer.clear(),e.next=3,r.updateFeature(t,r.allPlotPolygonLayer.plotFeatures,r.activePlotsLayer,{stroke:[255,255,255],fillOpacity:.6});case 3:if(o=e.sent,!t.length||!o){e.next=9;break}return i=n?"plot":"company",r.activePlotsLayer.graphics[0]._extent,e.next=9,r.getCenterAZoom(r.activePlotsLayer.graphics,i);case 9:a(o);case 10:case"end":return e.stop()}},e,r)})),function(r){return e.apply(this,arguments)}))},setPlotPosition:function(e){var r=this;a.a.loadModules(["esri/map","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ImageParameters","esri/geometry/Point","esri/SpatialReference","esri/geometry/Extent","esri/layers/GraphicsLayer"],this.options).then(function(t){var n=c(t,8),a=(n[0],n[1],n[2],n[3],n[4],n[5],n[6]);n[7];console.log(e);var o=new(Function.prototype.bind.apply(a,[null].concat(p(e),[new esri.SpatialReference({wkid:4326})])));r.gismap.setExtent(o,!0)})},getNYDid:function(e){return/(\d{18})(\d{3})/g.test(e)?RegExp.$1+"000":e+""}},components:{}},g=t("W5g0");var y=function(e){t("JZu2")},m=Object(g.a)(d,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"arcgis-map"},[r("div",{staticClass:"map-container",attrs:{id:"gismap"}})])}],!1,y,"data-v-3f89f8a6",null);r.default=m.exports}});
//# sourceMappingURL=119.8d148f012c1bfa874c56.js.map