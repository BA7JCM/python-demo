webpackJsonp([64],{"1QWw":function(t,e){t.exports="https://snkoudai.oss-cn-hangzhou.aliyuncs.com/goverment/static/img/bg-video-default.9285c5a.png"},J4rx:function(t,e){t.exports="https://snkoudai.oss-cn-hangzhou.aliyuncs.com/goverment/static/img/bg-no-data1.d5add44.png"},QVh9:function(t,e){},wVv0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("44dg"),s=a("mYEk"),i=a("oAV5"),r=(a("VKKs"),a("VCTt"));function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(s,i){try{var r=e[s](i),o=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});t(o)}("next")})}}var c={data:function(){return{currentPage:1,listData:[],tempListData:[],loading:!1,pageSize:24,total:0,noData:!1,bsScroll:""}},mounted:function(){var t=this;return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getFarmList(),window.addEventListener("resize",function(){t.bsScroll&&t.bsScroll.refresh()});case 2:case"end":return e.stop()}},e,t)}))()},activated:function(){this.bsScroll&&this.bsScroll.refresh&&this.bsScroll.refresh()},methods:{onChange:function(t){this.currentPage=t,this.getFarmList()},goDetail:function(t){this.$router.push({path:"/iotDevice/"+t.farmId+"?farmName="+t.farmName})},getFarmList:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,a=Object(i.c)(),e.next=4,t.$ajax.post(t.$api.operators.listByAreaAndZaiotKeyNotNull,{farmAreaId:[a.farmId],farmAreaType:a.level,keyword:null,pageNo:t.currentPage,pageSize:t.pageSize});case 4:0===(n=e.sent).data.respCode&&(t.tempListData=n.data.obj.list,t.total=n.data.obj.totalCount,t.loading=!1,t.noData=!1,t.listData=t.getListData(t.tempListData,4),setTimeout(function(){t.$nextTick(function(){t.bsScroll?(t.bsScroll.destroy(),t.bsScroll=Object(r.a)(t.$refs.wripper)):t.bsScroll=Object(r.a)(t.$refs.wripper)})},300),t.tempListData.length||(t.noData=!0));case 6:case"end":return e.stop()}},e,t)}))()},getListData:function(t,e){var a=t.concat(),n=[];if(a.length&&(n=Object(i.a)(e,a))[n.length-1].length<e)for(var s=e-n[n.length-1].length,r=0;r<s;r++)n[n.length-1].push({});return n}},destroyed:function(){window.removeEventListener("resize",function(){})},components:{Loading:n.default,Page:s.default}},l=a("W5g0");var u=function(t){a("QVh9")},v=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"env-monitoring",attrs:{"data-title":"物联网监控"}},[t.noData?n("div",{staticClass:"no-data"},[n("img",{attrs:{src:a("J4rx")}}),t._v(" "),n("span",[t._v("暂无数据")])]):[t.loading?t._e():n("div",{ref:"wripper",staticClass:"main"},[n("div",[n("div",{staticClass:"wripper"},t._l(t.listData,function(e,s){return n("div",{key:s,staticClass:"wripper-row"},t._l(e,function(e,s){return n("div",{key:s,staticClass:"wripper-col"},[n("div",{staticClass:"shadow-mask"},[e.farmId?n("div",{staticClass:"wripper-item"},[n("div",{staticClass:"video-number"},[n("div",{staticClass:"img-box"},[e.farmIcon?n("div",{staticClass:"img-url",style:{backgroundImage:"url("+t.aliimgresizefn(e.farmIcon,160,160)+")"}}):n("img",{attrs:{src:a("1QWw")}})]),t._v(" "),n("div",{staticClass:"env-box"},[n("div",{staticClass:"env-farm-name",attrs:{title:e.farmName}},[t._v(t._s(e.farmName))]),t._v(" "),n("div",{staticClass:"env-number"},[n("i",{staticClass:"iconfont icon-shexiangtou green"}),t._v(" "),n("span",{staticClass:"green"},[t._v("视频监控："+t._s(e.totalCount)+"个")])]),t._v(" "),n("div",{staticClass:"env-number"},[n("i",{staticClass:"iconfont icon-chuanganshebei light-blue"}),t._v(" "),n("span",{staticClass:"light-blue"},[t._v("传感设备："+t._s(e.totalSensor)+"个")])]),t._v(" "),n("div",{staticClass:"env-number"},[n("i",{staticClass:"iconfont icon-kongzhishebei deep-blue"}),t._v(" "),n("span",{staticClass:"deep-blue"},[t._v("控制设备："+t._s(e.totalController)+"个")])]),t._v(" "),n("div",{staticClass:"env-number"},[n("i",{staticClass:"iconfont icon-qixiangzhan blue"}),t._v(" "),n("span",{staticClass:"blue"},[t._v("综合设备："+t._s(e.totalIntegrated)+"个")])])])]),t._v(" "),n("div",{staticClass:"farm-name",on:{click:function(a){return t.goDetail(e)}}},[n("span",[t._v("查看详情")])])]):t._e()])])}),0)}),0),t._v(" "),t.total>t.pageSize?n("div",{staticClass:"page-box"},[n("Page",{attrs:{total:t.total,"page-size":t.pageSize,current:t.currentPage},on:{onChange:t.onChange}})],1):t._e()])]),t._v(" "),n("Loading",{attrs:{show:t.loading,type:"element"}})]],2)},[],!1,u,"data-v-31b62f5a",null);e.default=v.exports}});
//# sourceMappingURL=64.1920f0f15af740f90d96.js.map