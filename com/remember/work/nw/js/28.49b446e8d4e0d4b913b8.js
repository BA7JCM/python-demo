webpackJsonp([28],{S8RA:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("xk5x"),r=a("VCTt");var i={grid:{show:!0,borderColor:"#0D394A",top:40,bottom:56,left:45,right:20},tooltip:{show:!0,trigger:"item",backgroundColor:"#043250",padding:[13,14,13,11],textStyle:{fontSize:12,color:"#9ED2D8"},formatter:function(t){return t.name+"："+t.value+"万亩"}},xAxis:{data:[],axisLabel:{interval:0,textStyle:{color:"#6EC2CB",fontSize:12,lineHeight:14},align:"center",formatter:function(t){return t.split("").join("\n")}},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(109,193,203,0.2)"}}},yAxis:{name:"(万亩)",nameTextStyle:{fontSize:12,color:"#6DC1CB",padding:[0,0,3,0]},axisLine:{show:!1,lineStyle:{color:"#0D394A"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(109,193,203,0.2)"}},axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12}}},series:[{type:"bar",barWidth:"40%",barMinHeight:5,data:[],label:{show:!1},z:10,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#00F6FF"},{offset:1,color:"#01C1FF"}],global:!1}}}]},o={name:"farm-products-7",props:{farmAreaInfo:{type:Object,default:function(){return Object(r.b)()}}},data:function(){return{loading:!0,chartInstance:null,hasData:!0}},mounted:function(){var t=this;this.$nextTick(function(){t.initMoudle()})},methods:{initMoudle:function(){this.refreshChart(this._initEcharts(this.$refs.EContainer,i))},refreshRender:function(){this.chartInstance&&this.chartInstance.resize()},getCropTypeList:function(){return this.$ajax.post(this.$api.operators.cropCategorylistByArea,{farmAreaId:[this.farmAreaInfo.farmAreaId],farmAreaType:this.farmAreaInfo.farmAreaType}).then(function(t){var e=t.data;if(0===e.respCode)return console.log("data:",e.obj),e.obj}).catch(function(t){console.log(new Error("获取在田种类统计error"),t)})},_initEcharts:function(t,e){var a=this.$echarts.init(t);return a.setOption(e),a},refreshChart:function(t){var e=this;return function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function n(r,i){try{var o=e[r](i),s=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}(regeneratorRuntime.mark(function a(){var n,i,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getCropTypeList();case 2:if(0!==(n=a.sent).list.length&&0!==n.totalCount){a.next=7;break}return e.hasData=!1,e.loading=!1,a.abrupt("return");case 7:i=n.list.map(function(t){return t.stasticPlantAcreByCropCategory}).flat().sort(function(t,e){return e.sumPlantAcre-t.sumPlantAcre}).slice(0,15),o={xAxis:{data:i.map(function(t){return t.cropCategoryName})},series:[{data:i.map(function(t){return Object(r.j)({value:t.sumPlantAcre/1e4,places:4})})}]},e.chartInstance=t,t.setOption(o),e.hasData=!0,e.loading=!1;case 13:case"end":return a.stop()}},a,e)}))()},handlePage:function(){this.$emit("handleClick","fieldsStatisticsList","在田种类统计")}},computed:{eContainerRef:function(){return this.$refs.EContainer}},components:{areaPanel:n.default}},s=a("W5g0");var l=function(t){a("zeg8")},c=Object(s.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"gov-area-panel",attrs:{"element-loading-spinner":"iconfont icon-loading1","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[e("area-panel",{attrs:{"area-title":"在田种类统计"},on:{"hand-sub-title":this.handlePage}},[e("div",{staticClass:"module-body",attrs:{slot:"panelMain"},slot:"panelMain"},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.hasData,expression:"hasData"}],ref:"EContainer",staticClass:"echart-container"}),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!this.hasData,expression:"!hasData"}],staticClass:"no-data"},[e("span",[this._v("暂无数据")])])])])],1)},[],!1,l,"data-v-7084b56a",null);e.default=c.exports},zeg8:function(t,e){}});
//# sourceMappingURL=28.49b446e8d4e0d4b913b8.js.map