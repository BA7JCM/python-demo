webpackJsonp([82],{"9kZr":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("MKOF"),i=n("VKKs"),s={name:"freetekHeader",props:{navs:{type:Array,default:function(){return[]}}},data:function(){return{nickname:"",titlename:"",showLogo:!1,titleSize:28,logoUrl:null,isShowFlag:!1,logoStyle:{minWidth:"428px"}}},created:function(){this.checkLogin(),this.showNavs(),this.refreshPage(),this.getAreaName()},mounted:function(){var t=this;this.$nextTick(function(){window.addEventListener("popstate",function(){t.refreshPage()})})},methods:{setFontSize:function(){var t=document.body.clientWidth,e=t>1366&&t<=1660;return this.titlename.length>3&&t>1660?(this.titleSize=28,!0):this.titlename.length>3&&e?(this.titleSize=24,!0):3===this.titlename.length&&e?(this.titleSize=28,!0):2===this.titlename.length&&e?(this.titleSize=28,!0):3===this.titlename.length?(this.titleSize=32,!0):2===this.titlename.length?(this.titleSize=36,!0):void 0},checkLogin:function(){if(!Object(i.b)("accessToken"))return this.$router.push({name:"login"}),!0;var t=Object(i.b)("govGovernmentUserVO");this.nickname=t.nickname,this.getShowLogo(t.governmentSubjectId),this.setLogoUrl()},showNavs:function(){var t=Object(i.b)("govGovernmentSubjectVO").showMenuType;this.navs=this.navs.filter(function(e){return(t&e.id)===e.id})},doLoginOut:function(){var t=this;this.$ajax.post(this.$api.login.logout,{}).then(function(e){0===e.data.respCode&&(localStorage.clear(),sessionStorage.clear(),setTimeout(function(){t.checkLogin()},500),t.$message({type:"success",message:"退出成功",center:!0}))}).catch(function(){t.$message({type:"error",message:"网络异常",center:!0})})},switchPage:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).to;this.$router.push(t),this.navs.forEach(function(e){e.selected=t.name===e.name})},refreshPage:function(){var t=this,e="";this.navs.forEach(function(n){"plotlist"===(e=t.$route.name)&&(e="landSource"),n.selected=e===n.name})},getAreaName:function(){this.titlename=Object(i.b)("govGovernmentSubjectVO").subjectName},getShowLogo:function(t){var e=this;this.$ajax.post(this.$api.login.showLogo,{id:t}).then(function(t){var n=t.data,o=n.obj;0===n.respCode&&(e.showLogo=!o.subjectLogoUrl&&!!o.showLogoFlag,e.logoUrl=o.subjectLogoUrl,e.isShowFlag=!0)})},setLogoUrl:function(){var t=Object(i.b)("govGovernmentSubjectVO");-1===window.location.href.indexOf("govtest")&&-1===window.location.href.indexOf("192.168")&&-1===window.location.href.indexOf("127.0")||[71,76].includes(t.id)&&(setTimeout(function(){$("body .head-logo").css("cursor","pointer")},1e3),$("body").on("click",".head-logo",function(){window.location.href="http://10.121.226.94:81/ncny_fsj"})),-1!==window.location.href.indexOf("gov.snkoudai")&&[49,57].includes(t.id)&&(setTimeout(function(){$("body .head-logo").css("cursor","pointer")},1e3),$("body").on("click",".head-logo",function(){window.location.href="http://10.121.226.94:81/ncny_fsj"}))}},components:{UserCenter:o.default}},a=n("W5g0");var c=function(t){n("AR5P")},l=Object(a.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-bar"},[n("div",{staticClass:"header-wrap"},[n("div",{staticClass:"_nav-bar"},[n("div",{staticClass:"_head-logo",style:[t.logoUrl?t.logoStyle:""]},[t.isShowFlag?n("div",{staticClass:"head-logo"},[t.logoUrl?n("img",{staticClass:"head-logo-pic",attrs:{src:t.logoUrl,alt:t.titlename}}):n("h1",{staticClass:"header-title"},[t._v(t._s(t.titlename))]),t._v(" "),t.showLogo?n("a",{staticClass:"head-logo-label"},[n("span",[t._v("Powered by")]),t._v(" 左岸芯慧 ")]):t._e()]):t._e()]),t._v(" "),n("nav",{staticClass:"nav-bar"},[n("ul",{staticClass:"navs"},t._l(t.navs,function(e){return n("li",{key:e.name,staticClass:"nav",class:{selected:e.selected},on:{click:function(n){return t.switchPage({to:{name:e.name}})}}},[n("a",[t._v(t._s(e.text))])])}),0)])]),t._v(" "),n("UserCenter",{attrs:{nickname:t.nickname},on:{doLoginOut:t.doLoginOut}})],1)])},[],!1,c,"data-v-f3e16660",null);e.default=l.exports},AR5P:function(t,e){}});
//# sourceMappingURL=82.7cf6476714ac5b883a59.js.map