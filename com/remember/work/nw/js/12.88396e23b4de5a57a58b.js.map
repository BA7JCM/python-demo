{"version":3,"file":"static/js/12.88396e23b4de5a57a58b.js","sources":["webpack:///src/pages/overview/greenCertList.vue"],"sourcesContent":["<template>\r\n\t<div\r\n\t\tclass=\"green-cert\"\r\n\t\tv-title\r\n\t\t:data-title=\"isHeaderShow ? '绿色认证统计' : '农业总览'\"\r\n\t\tv-loading=\"excelLoading\"\r\n\t\telement-loading-text=\"数据导出中...\"\r\n\t\telement-loading-spinner=\"el-icon-loading\"\r\n\t\telement-loading-background=\"rgba(0, 0, 0, 0.5)\"\r\n\t\t:style=\"{minWidth: minWidth, height: height, minHeight: minHeight}\"\r\n\t>\r\n\t\t<Nav @back=\"back\" title=\"绿色认证统计\" :hasShadow=\"true\" backColor=\"#B6CFDE\" v-if=\"isHeaderShow\" paddingRight=\"13px\" :isUserCenter=\"true\" :isAddNum=\"isAddNum\">\r\n\t\t\t<!-- <div slot=\"right\" style=\"width: 246px\"> -->\r\n\t\t\t<!-- 布局占位 -->\r\n\t\t\t<!-- </div> -->\r\n\t\t</Nav>\r\n\r\n\t\t<div class=\"main\">\r\n\t\t\t<div class=\"search-box\" v-if=\"isSearchShow\">\r\n\t\t\t\t<div class=\"search-box-left\">\r\n\t\t\t\t\t<CustomSelect margin=\"0 15px 0 0\" v-if=\"getLevel\">\r\n\t\t\t\t\t\t<template slot=\"select-container\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"areaItem\" placeholder=\"全部区\" value-key=\"id\" @change=\"areaChange\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in area\" :key=\"item.id\" :label=\"item.areaName\" :value=\"item\">\r\n\t\t\t\t\t\t\t\t\t<!-- <span >{{ item.areaName }}</span> -->\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</CustomSelect>\r\n\r\n\t\t\t\t\t<CustomInput iconfont=\"el-icon-search\" placeholder=\"输入经营主体名称搜索\" v-model=\"keyword\" @clickAndEnter=\"clickAndEnter\"></CustomInput>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"excel-box\">\r\n\t\t\t\t\t<div class=\"excel\" @click=\"download\">\r\n\t\t\t\t\t\t<img src=\"../../assets/images/table/bg-excel-icon.png\" />\r\n\t\t\t\t\t\t<span style=\"margin-left: 9px\">导出EXCEL</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"list-content\" ref=\"listContent\">\r\n\t\t\t\t<!-- <Loading :show=\"true\" type=\"element\"></Loading> -->\r\n\t\t\t\t<CustomTable>\r\n\t\t\t\t\t<template slot=\"table-container\">\r\n\t\t\t\t\t\t<el-table :data=\"greenCertList\" style=\"width: 100%\" :fit=\"true\" :height=\"tableHeight\" :lazy=\"true\">\r\n\t\t\t\t\t\t\t<template slot=\"empty\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Loading :show=\"loading\" type=\"element\" theme=\"loader-light\"></Loading>\r\n\t\t\t\t\t\t\t\t\t<div class=\"no-data\" v-if=\"!loading\">\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"../../assets/images/table/bg-table-no-data.png\" />\r\n\t\t\t\t\t\t\t\t\t\t<span>暂无数据</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<el-table-column label=\"经营主体名称\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"isHeaderShow\" class=\"text-bold\" :class=\"{'text-hover': scope.row.type !== 2}\" @click=\"handleEdit(scope.row)\">{{ scope.row.companyName }}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"text-bold\" v-else>{{ scope.row.companyName }}</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t\t\t<el-table-column label=\"所在地\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"text\">{{ scope.row.district }}/{{ scope.row.town }}</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t\t\t<!-- <el-table-column\r\n\t\t\t\t\t\t\t\tlabel=\"街镇\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"text\"></span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column> -->\r\n\r\n\t\t\t\t\t\t\t<el-table-column label=\"认证地块数（个）\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"text-bold\">{{ scope.row.landCertCount }}</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t\t\t<el-table-column :width=\"!isHeaderShow ? '200' : ''\">\r\n\t\t\t\t\t\t\t\t<template slot=\"header\" slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<CustomTableSort title=\"认证地块面积（亩）\" prop=\"landCertArea\" :defaultSort=\"defaultSort\" @sortChange=\"sortChange\"></CustomTableSort>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"text-bold\">{{ scope.row.landCertArea }}</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t\t\t<el-table-column label=\"认证品种\" v-if=\"!hideColumn.prod\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"text-bold\">{{ scope.row.prod }}</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t\t\t<!-- <el-table-column label=\"操作\" width=\"120\" v-if=\"!hideColumn.handle\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"handle\" @click=\"handleEdit(scope.row)\" :class=\"scope.row.type === 2 ? 'handle-disabled' : ''\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"iconfont icon-xiangqing\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<span>详情</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column> -->\r\n\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</CustomTable>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div v-if=\"total > pageSize && isPageShow\" class=\"page-box\">\r\n\t\t\t<Page\r\n\t\t\t\t:total=\"total\"\r\n\t\t\t\t:page-size=\"pageSize\"\r\n\t\t\t\t:current=\"currentPage\"\r\n\t\t\t\t@onChange=\"onChange\"\r\n\t\t\t\t@changePageSize=\"changePageSize\"\r\n\t\t\t\t:isPageSizeShow=\"true\"\r\n\t\t\t\t:isJumpShow=\"true\"\r\n\t\t\t\t:isTotalShow=\"true\"\r\n\t\t\t\t:perPage=\"15\"\r\n\t\t\t></Page>\r\n\t\t</div>\r\n\r\n\t\t<RunBall :isRunBall=\"isRunBall\"></RunBall>\r\n\r\n\t\t<downloadModal :isShow.sync=\"isModalShow\"></downloadModal>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Nav from '@/components/common/nav.vue';\r\nimport Page from '@/components/common/page.vue';\r\nimport Loading from '@/components/common/loading.vue';\r\nimport CustomInput from '@/components/common/input.vue';\r\nimport CustomSelect from '@/components/common/select.vue';\r\nimport CustomTable from '@/components/common/table.vue';\r\nimport CustomTableSort from '@/components/common/custom-table-sort.vue';\r\nimport downloadModal from '@/components/common/download-modal.vue';\r\nimport RunBall from '@/components/common/run-ball.vue'; // 抛出动画\r\n\r\nimport {areaLevelCorAreaId} from '@/common/fn/index.js';\r\nimport {SessionStorage, getStorage} from '@/utils/storage.js';\r\nimport {downloadExcel} from '@/utils/utils.js';\r\nimport filterArea from '@/common/config/filterArea.js';\r\n\r\nlet greenCertSessionStorage = '';\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tfarmAreaInfo: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn areaLevelCorAreaId();\r\n\t\t\t},\r\n\t\t},\r\n\t\tisHeaderShow: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tisSearchShow: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\thideColumn: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn {};\r\n\t\t\t},\r\n\t\t},\r\n\t\tminWidth: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '1366px',\r\n\t\t},\r\n\t\tminHeight: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '696px',\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '100vh',\r\n\t\t},\r\n\t\tdefaultPageSize: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 15,\r\n\t\t},\r\n\t\tisPageShow: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tpageSize: 15,\r\n\t\t\ttotal: 1,\r\n\t\t\tkeyword: '',\r\n\t\t\tgreenCertList: [],\r\n\t\t\tarea: [\r\n\t\t\t\t{\r\n\t\t\t\t\tareaName: '全部区',\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tareaItem: {\r\n\t\t\t\tareaName: '全部区',\r\n\t\t\t\tid: '',\r\n\t\t\t},\r\n\t\t\tsortDirection: null,\r\n\t\t\tdefaultSort: 'descending',\r\n\t\t\ttableHeight: 0,\r\n\t\t\tloading: false,\r\n\t\t\tdataTargetFlag: '',\r\n\t\t\texcelLoading: false,\r\n\t\t\tisModalShow: false,\r\n\t\t\tisRunBall: false,\r\n\t\t\tisAddNum: false,\r\n\t\t};\r\n\t},\r\n\tbeforeRouteEnter(to, from, next) {\r\n\t\tif (from.name === 'farmdetail' || from.name === 'gisfarmdetail') {\r\n\t\t\tgreenCertSessionStorage = SessionStorage.get('greenCertSessionStorage');\r\n\t\t} else {\r\n\t\t\tgreenCertSessionStorage = '';\r\n\t\t}\r\n\t\tnext();\r\n\t},\r\n\tcreated() {\r\n\t\tif (greenCertSessionStorage) {\r\n\t\t\tthis.keyword = greenCertSessionStorage.keyword;\r\n\t\t\tthis.pageSize = greenCertSessionStorage.pageSize;\r\n\t\t\tthis.currentPage = greenCertSessionStorage.currentPage;\r\n\t\t\tthis.sortDirection = greenCertSessionStorage.sortDirection;\r\n\t\t\tthis.defaultSort = greenCertSessionStorage.defaultSort;\r\n\t\t\tthis.areaItem = greenCertSessionStorage.areaItem;\r\n\t\t} else {\r\n\t\t\tthis.keyword = '';\r\n\t\t\tthis.pageSize = this.defaultPageSize;\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.sortDirection = null;\r\n\t\t\tthis.defaultSort = 'descending';\r\n\t\t\tthis.areaItem = {\r\n\t\t\t\tareaName: '全部区',\r\n\t\t\t\tid: '',\r\n\t\t\t};\r\n\t\t}\r\n\t\tthis.dataTargetFlag = getStorage('govGovernmentSubjectVO').dataTargetFlag;\r\n\t\tthis.getGreenCertList();\r\n\t\tthis.getArea();\r\n\t},\r\n\tcomputed: {\r\n\t\tgetLevel() {\r\n\t\t\treturn getStorage('govGovernmentSubjectVO').subjectLevel === 2 && getStorage('govGovernmentSubjectVO').cityId === '310100';\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tif (greenCertSessionStorage) {\r\n\t\t\tthis.keyword = greenCertSessionStorage.keyword;\r\n\t\t}\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.tableHeight = this.$refs.listContent.offsetHeight;\r\n\t\t});\r\n\t\twindow.addEventListener('resize', this.resizeHandle, false);\r\n\t},\r\n\tbeforeRouteLeave(to, from, next) {\r\n\t\t// 如果进入farm详情页，缓存过滤条件，用于从详情页返回保持过滤条件\r\n\t\tif (to.name === 'farmdetail' || to.name === 'gisfarmdetail') {\r\n\t\t\tSessionStorage.set('greenCertSessionStorage', {\r\n\t\t\t\tkeyword: this.keyword,\r\n\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\tcurrentPage: this.currentPage,\r\n\t\t\t\tsortDirection: this.sortDirection,\r\n\t\t\t\tdefaultSort: this.defaultSort,\r\n\t\t\t\tareaItem: this.areaItem,\r\n\t\t\t});\r\n\t\t}\r\n\t\tnext();\r\n\t},\r\n\tmethods: {\r\n\t\tback() {\r\n\t\t\tvar tempPath = this.$route.path;\r\n\t\t\tthis.$router.go(-1);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (tempPath === this.$route.path) {\r\n\t\t\t\t\tthis.back();\r\n\t\t\t\t}\r\n\t\t\t}, 200);\r\n\t\t},\r\n\t\tareaChange(val) {\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.getGreenCertList();\r\n\t\t},\r\n\t\tasync download() {\r\n\t\t\tif (!this.greenCertList.length) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\tmessage: '暂无数据，无法导出',\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst defaultArea = areaLevelCorAreaId();\r\n\t\t\tconst userInfo = getStorage('govGovernmentUserVO');\r\n\r\n\t\t\tconst options = {\r\n\t\t\t\tfarmAreaId: this.areaItem.id ? [this.areaItem.id] : [defaultArea.farmAreaId],\r\n\t\t\t\tfarmAreaType: this.areaItem.level ? this.areaItem.level : defaultArea.farmAreaType,\r\n\t\t\t\tkeyword: this.keyword ? this.keyword : '',\r\n\t\t\t\tsortDirection: this.sortDirection ? this.sortDirection : '',\r\n\t\t\t\tdataTargetFlag: this.dataTargetFlag,\r\n\t\t\t\tgovUserId: userInfo.id,\r\n\t\t\t};\r\n\r\n\t\t\tconst res = await this.$ajax.post(this.$api.downloadExcel.greenCertExportTask, options);\r\n\r\n\t\t\t// console.log('res=======>', res);\r\n\t\t\tif (res.data.respCode === 0) {\r\n\t\t\t\tif (this.isAddNum) {\r\n\t\t\t\t\tthis.isAddNum = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.isRunBall = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.isRunBall = false;\r\n\t\t\t\t\tthis.isAddNum = true;\r\n\t\t\t\t}, 800);\r\n\t\t\t}\r\n\r\n\t\t\tif (res.data.respCode === 300) {\r\n\t\t\t\tthis.isModalShow = true;\r\n\t\t\t}\r\n\r\n\t\t\t// this.excelLoading = true;\r\n\t\t\t// const defaultArea = areaLevelCorAreaId();\r\n\r\n\t\t\t// let filename = `绿色认证信息（${this.formatDate(new Date().getTime(), '')}）`;\r\n\r\n\t\t\t// const res = await downloadExcel(\r\n\t\t\t// \t'/freetekApi/nongwei/gov/lvseLandCertificate/listOnExportByArea',\r\n\t\t\t// \t{\r\n\t\t\t// \t\tfarmAreaId: this.areaItem.id ? [this.areaItem.id] : [defaultArea.farmAreaId],\r\n\t\t\t// \t\tfarmAreaType: this.areaItem.level ? this.areaItem.level : defaultArea.farmAreaType,\r\n\t\t\t// \t\tkeyword: this.keyword ? this.keyword : '',\r\n\t\t\t// \t\tsortDirection: this.sortDirection,\r\n\t\t\t// \t\tdataTargetFlag: this.dataTargetFlag\r\n\t\t\t// \t},\r\n\t\t\t// \tfilename\r\n\t\t\t// );\r\n\t\t\t// if (res.msg === 'success') {\r\n\t\t\t// \tthis.$message({\r\n\t\t\t// \t\ttype: 'success',\r\n\t\t\t// \t\tmessage: '下载成功',\r\n\t\t\t// \t\tcenter: true\r\n\t\t\t// \t});\r\n\t\t\t// \tthis.excelLoading = false;\r\n\t\t\t// } else {\r\n\t\t\t// \tthis.excelLoading = false;\r\n\t\t\t// }\r\n\t\t},\r\n\t\tonChange(page) {\r\n\t\t\tthis.currentPage = page;\r\n\t\t\tthis.getGreenCertList();\r\n\t\t},\r\n\t\tchangePageSize(pageSize) {\r\n\t\t\tthis.pageSize = pageSize;\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.getGreenCertList();\r\n\t\t},\r\n\t\tclickAndEnter() {\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.getGreenCertList();\r\n\t\t},\r\n\t\tsortChange(value) {\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tthis.defaultSort = value.order === 'descending' ? 'descending' : 'ascending';\r\n\t\t\tthis.sortDirection = value.order === 'descending' ? 1 : 0;\r\n\t\t\tthis.getGreenCertList();\r\n\t\t},\r\n\t\thandleEdit(row) {\r\n\t\t\tif (row.type === 2) return;\r\n\t\t\tif (row.type === 0) {\r\n\t\t\t\tthis.getGreenCertListDetail(row.snkoudaiCompanyId);\r\n\t\t\t}\r\n\t\t\tif (row.type === 1) {\r\n\t\t\t\tthis.$router.push(`/gisfarmdetail/${row.zzCompanyCode}`);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getGreenCertList() {\r\n\t\t\tthis.greenCertList = [];\r\n\t\t\tthis.loading = true;\r\n\t\t\tconst defaultArea = areaLevelCorAreaId();\r\n\r\n\t\t\tif (!this.isHeaderShow && this.farmAreaInfo.farmAreaId) {\r\n\t\t\t\tthis.areaItem.id = this.farmAreaInfo.farmAreaId;\r\n\t\t\t\tthis.areaItem.level = this.farmAreaInfo.farmAreaType;\r\n\t\t\t}\r\n\r\n\t\t\tconst options = {\r\n\t\t\t\tfarmAreaId: this.areaItem.id ? [this.areaItem.id] : [defaultArea.farmAreaId],\r\n\t\t\t\tfarmAreaType: this.areaItem.level ? this.areaItem.level : defaultArea.farmAreaType,\r\n\t\t\t\tkeyword: this.keyword ? this.keyword : '',\r\n\t\t\t\tpageNo: this.currentPage,\r\n\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\tsortDirection: this.sortDirection,\r\n\t\t\t\tdataTargetFlag: this.dataTargetFlag,\r\n\t\t\t};\r\n\r\n\t\t\tconst res = await this.$ajax.post(this.$api.govPatrol.greenCertList, options);\r\n\r\n\t\t\tif (res.data.respCode === 0) {\r\n\t\t\t\tthis.greenCertList = res.data.obj.list;\r\n\t\t\t\tthis.total = res.data.obj.totalCount;\r\n\t\t\t\tthis.loading = false;\r\n\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.tableHeight = this.$refs.listContent.offsetHeight;\r\n\t\t\t\t\tthis.backTop();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getGreenCertListDetail(id) {\r\n\t\t\tconst res = await this.$ajax.post(this.$api.produce.listByCompanyId, {\r\n\t\t\t\tcompanyId: id,\r\n\t\t\t});\r\n\r\n\t\t\tif (res.data.respCode === 0) {\r\n\t\t\t\tif (!res.data.obj.list.length) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '未匹配到对应主体',\r\n\t\t\t\t\t\tcenter: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$router.push(`/farmdetail/${res.data.obj.list[0].farmId}`);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getArea() {\r\n\t\t\tconst res = await this.$ajax.post(this.$api.area.listByParentId, {\r\n\t\t\t\tparentId: getStorage('govGovernmentSubjectVO').cityId,\r\n\t\t\t});\r\n\t\t\tif (res.data.respCode === 0) {\r\n\t\t\t\t// this.area = res.data.obj.list;\r\n\t\t\t\tres.data.obj.list.forEach(ele => {\r\n\t\t\t\t\tlet temp = [];\r\n\t\t\t\t\t// 当行政区为上海时，过滤没有gis地图的区\r\n\t\t\t\t\tif (getStorage('govGovernmentSubjectVO').cityId === '310100') {\r\n\t\t\t\t\t\ttemp = filterArea.filterArea.filter(element => ele.id === element.id);\r\n\t\t\t\t\t\tif (temp.length) return;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.area.push(ele);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tformatDate(time, character) {\r\n\t\t\tconst date = new Date(time);\r\n\r\n\t\t\tconst YY = date.getFullYear() + character;\r\n\t\t\tconst MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + character;\r\n\t\t\tconst DD = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\r\n\r\n\t\t\treturn YY + MM + DD;\r\n\t\t},\r\n\t\tresizeHandle() {\r\n\t\t\tthis.tableHeight = this.$refs.listContent.offsetHeight;\r\n\t\t},\r\n\t\tbackTop() {\r\n\t\t\tdocument.querySelector('.el-table__body-wrapper').scrollTop = 0;\r\n\t\t},\r\n\t},\r\n\tdestroyed() {\r\n\t\twindow.removeEventListener('resize', this.resizeHandle, false);\r\n\t},\r\n\tcomponents: {\r\n\t\tNav,\r\n\t\tPage,\r\n\t\tLoading,\r\n\t\tCustomInput,\r\n\t\tCustomSelect,\r\n\t\tCustomTable,\r\n\t\tCustomTableSort,\r\n\t\tdownloadModal,\r\n\t\tRunBall,\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.green-cert {\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100vh;\r\n\tmin-width: 1366px;\r\n\tmin-height: 696px;\r\n\tbox-sizing: border-box;\r\n\tbackground-color: #021220;\r\n\r\n\t.main {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\toverflow: hidden;\r\n\r\n\t\t.search-box {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 28px 50px 21px;\r\n\r\n\t\t\t.search-box-left {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\r\n\t\t\t.excel-box {\r\n\t\t\t\t.excel {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\twidth: 120px;\r\n\t\t\t\t\theight: 36px;\r\n\t\t\t\t\tborder: 1px solid #145763;\r\n\t\t\t\t\tborder-radius: 2px;\r\n\t\t\t\t\tbackground-color: #24969a;\r\n\t\t\t\t\tcolor: #d9e3ed;\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.list-content {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\toverflow: hidden;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n\r\n\t.handle {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #20a8f8;\r\n\t\tcursor: pointer;\r\n\r\n\t\t.iconfont {\r\n\t\t\tfont-size: 23px;\r\n\t\t}\r\n\t}\r\n\t.handle-disabled {\r\n\t\tcolor: #aaaaaa;\r\n\t\tcursor: not-allowed;\r\n\t}\r\n\r\n\t.text {\r\n\t\tcolor: #a1acb7;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.text-bold {\r\n\t\tcolor: #a1acb7;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.value-text {\r\n\t\tcolor: #082238;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.text-hover {\r\n\t\tcolor: #1d9096;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.text-hover:hover {\r\n\t\tborder-bottom: 1px solid #1d9096;\r\n\t}\r\n\r\n\t.page-box {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: center;\r\n\t\theight: 88px;\r\n\t\tpadding: 0 40px;\r\n\t\tbackground: #021220;\r\n\t\tbox-shadow: 0px -3px 21px 0px rgba(4, 52, 82, 0.2);\r\n\t}\r\n\r\n\t.no-data {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.green-cert > .el-loading-mask {\r\n\ti {\r\n\t\tcolor: #00e5ff;\r\n\t\tfont-size: 40px;\r\n\t}\r\n\tp {\r\n\t\tcolor: #00e5ff;\r\n\t\tline-height: 40px;\r\n\t\tfont-size: 18px;\r\n\t}\r\n}\r\n.green-cert .custom-select {\r\n\t.el-input__inner::-webkit-input-placeholder {\r\n\t\tcolor: #072138;\r\n\t}\r\n\t.el-input__inner::-moz-placeholder {\r\n\t\t/* Mozilla Firefox 19+ */\r\n\t\tcolor: #072138;\r\n\t}\r\n\t.el-input__inner:-moz-placeholder {\r\n\t\t/* Mozilla Firefox 4 to 18 */\r\n\t\tcolor: #072138;\r\n\t}\r\n\t.el-input__inner:-ms-input-placeholder {\r\n\t\t/* Internet Explorer 10-11 */\r\n\t\tcolor: #072138;\r\n\t}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/overview/greenCertList.vue"],"mappings":"AAiJA","sourceRoot":""}