webpackJsonp([136],{O9ui:function(t,e){},QyGI:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Xtqa"),a=s("VCTt");var i={name:"plot-detail-dialog-body-other",props:{plotId:{default:""}},data:function(){return{bScroll:null,lvseprod:"",tabindex:1,planCropList:[],missionList:[],businessInfo:{},plotBaseInfo:{}}},created:function(){},mounted:function(){},destroyed:function(){},methods:{getPlanCropList:function(){return this.$ajax.post(this.$api.nongwei.getListByPlotId,{plotId:this.plotId,pageNo:1,pageSize:1e3}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj}).catch(function(t){console.log(t)})},getMissionList:function(){return this.$ajax.post(this.$api.nongwei.getZzScFarmListByPlotId,{plotId:this.plotId,pageNo:1,pageSize:1e3}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj}).catch(function(t){console.log(t)})},getBusinessInfo:function(){return this.$ajax.post(this.$api.nongwei.getZzBasCompanyGetByPlotId,{plotId:this.plotId}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj}).catch(function(t){console.log(t)})},getPlotBaseInfo:function(){return this.$ajax.post(this.$api.nongwei.getZzBasPlotGet,{plotId:this.plotId}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj}).catch(function(t){console.log(t)})},getList:function(t){var e=this;return function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,s){return function n(a,i){try{var o=e[a](i),r=o.value}catch(t){return void s(t)}if(!o.done)return Promise.resolve(r).then(function(t){n("next",t)},function(t){n("throw",t)});t(r)}("next")})}}(regeneratorRuntime.mark(function s(){var n,i,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.tabindex=t,1!==e.tabindex){s.next=8;break}return s.next=4,e.getPlanCropList();case 4:n=s.sent,e.planCropList=n.list,s.next=30;break;case 8:if(2!==e.tabindex){s.next=15;break}return s.next=11,e.getMissionList();case 11:i=s.sent,e.missionList=i.list,s.next=30;break;case 15:if(3!==e.tabindex){s.next=21;break}return s.next=18,e.getBusinessInfo();case 18:e.businessInfo=s.sent,s.next=30;break;case 21:if(4!==e.tabindex){s.next=30;break}return s.next=24,e.getPlotBaseInfo();case 24:if(e.plotBaseInfo=s.sent,!e.plotBaseInfo.gisPlotId){s.next=30;break}return s.next=28,e.getLandGreencertDetail(e.getNYDid(e.plotBaseInfo.gisPlotId));case 28:(o=s.sent).length&&(e.lvseprod=o.filter(function(t){return!!t.prod}).map(function(t){return t.prod}).join(","));case 30:e.$nextTick(function(){e.bScroll?(e.bScroll.refresh(),e.bScroll.scrollTo(0,0)):e.bScroll=Object(a.a)(e.$refs.wrapper)});case 31:case"end":return s.stop()}},s,e)}))()},getNYDid:function(t){return/(\d{18})(\d{3})/g.test(t)?RegExp.$1+"000":t},getLandGreencertDetail:function(t){var e=this;return new Promise(function(s){e.$ajax.post(e.$api.govPatrol.landisgreenCert,{landCode:t}).then(function(t){0===t.data.respCode?s(t.data.obj):s(!1)}).catch(function(){s(!1)})})},goDetail:function(){this.$router.push("/gisfarmdetail/"+this.businessInfo.companyCode)}},computed:{landAcre:function(){var t=this.plotBaseInfo.area;return Object(n.b)(t,2)+" 亩"}},components:{plantSpeciesOther:function(){return Promise.all([s.e(0),s.e(39)]).then(s.bind(null,"eR8+"))},farmingOperationsOther:function(){return Promise.all([s.e(0),s.e(23)]).then(s.bind(null,"7m0v"))}}},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",{staticClass:"label"},[this._v("联系方式：")]),this._v(" "),e("span",{staticClass:"lacon"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"label"},[e("img",{attrs:{src:s("b7zr"),alt:""}}),this._v(" "),e("span",[this._v("地块名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"label"},[e("img",{attrs:{src:s("4AX2"),alt:""}}),this._v(" "),e("span",[this._v("地块面积")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"label"},[e("img",{attrs:{src:s("IIGb"),alt:""}}),this._v(" "),e("span",[this._v("地块类型")])])}],r=s("W5g0");var l=function(t){s("O9ui")},c=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",staticClass:"tabcon"},[1===t.tabindex?n("div",{staticClass:"plantplan"},[n("plant-species-other",{attrs:{"crop-list":t.planCropList}})],1):t._e(),t._v(" "),2===t.tabindex?n("div",{staticClass:"resourcebox"},[n("farming-operations-other",{attrs:{"mission-list":t.missionList}})],1):t._e(),t._v(" "),3===t.tabindex?n("div",{staticClass:"operators"},[n("ul",{staticClass:"companylist"},[n("li",{staticClass:"company"},[n("div",{staticClass:"txtdes"},[t.businessInfo.name?n("p",{staticClass:"title"},[t._v("\n\t\t\t\t\t\t"+t._s(t.businessInfo.name)+"\n\t\t\t\t\t")]):t._e(),t._v(" "),n("ul",{staticClass:"infolist"},[n("li",[n("span",{staticClass:"label"},[t._v("企业类型：")]),t._v(" "),t.businessInfo.type?n("span",{staticClass:"lacon"},[t._v(t._s(t.businessInfo.type))]):t._e()]),t._v(" "),n("li",[n("span",{staticClass:"label"},[t._v("法人代表（负责人）：")]),t._v(" "),t.businessInfo.man1?n("span",{staticClass:"lacon"},[t._v(t._s(t.businessInfo.man1))]):t._e()]),t._v(" "),t._m(0),t._v(" "),n("li",{staticClass:"business-category"},[n("span",{staticClass:"label"},[t._v("主体唯一标识：")]),t._v(" "),t.businessInfo.creditCode?n("span",{staticClass:"lacon"},[t._v(t._s(t.businessInfo.creditCode))]):t._e()]),t._v(" "),n("li",[n("span",{staticClass:"label"},[t._v("农场位置：")]),t._v(" "),n("span",{staticClass:"lacon"},[t._v(t._s(t.businessInfo.addr2))])])])])]),t._v(" "),n("div",{staticClass:"go-farm-detail"},[n("div",{staticClass:"go-farm-detail-box",on:{click:t.goDetail}},[n("span",[t._v("进入主体详情")]),t._v(" "),n("i",{staticClass:"iconfont icon-shuangjiantoushang"})])])])]):t._e(),t._v(" "),4===t.tabindex?n("div",{staticClass:"plotinfo"},[n("ul",[n("li",{staticClass:"infoitem"},[t.plotBaseInfo.gisPlotId?n("div",{staticClass:"plot-number"},[t._v("编号："+t._s(t.plotBaseInfo.gisPlotId))]):t._e(),t._v(" "),t._m(1),t._v(" "),n("p",{staticClass:"pyc"},[t._v(t._s(t.plotBaseInfo.name))]),t._v(" "),t.lvseprod?n("p",{staticClass:"lvse-cert"},[n("el-tooltip",{attrs:{"popper-class":"lvse-tooltip",effect:"dark",content:"认证产品："+t.lvseprod,placement:"top"}},[n("img",{attrs:{src:s("ySU3"),alt:""}})])],1):t._e()]),t._v(" "),n("li",{staticClass:"infoitem"},[t._m(2),t._v(" "),n("p",[t._v(t._s(t.landAcre))])]),t._v(" "),t._e()])]):t._e()])},o,!1,l,"data-v-09c4a22d",null);e.default=c.exports}});
//# sourceMappingURL=136.12776bfd762a6c0e4162.js.map