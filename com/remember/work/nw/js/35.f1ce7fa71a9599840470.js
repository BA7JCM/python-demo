webpackJsonp([35],{F5Np:function(t,e){},qx8g:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("VCTt"),a=n("N/DY");function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,i){try{var o=e[a](i),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}("next")})}}var o={show:!1,position:"insideBottom",distance:15,align:"left",verticalAlign:"middle",rotate:90,formatter:"{c} 家",fontSize:14,color:"#ffffff",rich:{name:{textBorderColor:"#fff"}}},s={grid:{show:!1,top:25,left:"4%",right:"3%",bottom:85},tooltip:{trigger:"axis",backgroundColor:"#020A10",padding:[12,20,12,20],textStyle:{color:"#ecfeff",fontSize:12},axisPointer:{type:"shadow",shadowStyle:{color:"rgba(0,0,0,0.3)"}},formatter:function(t){return'<span style="font-weight: bold;">'+t[0].axisValue+"</span><br>"+t.map(function(t){return""!==t.value?("经作"===t.seriesName?t.seriesName+"/果园":t.seriesName)+"："+t.value+"家<br>":""}).join("")}},xAxis:[{type:"category",axisTick:{show:!1},axisLine:{lineStyle:{color:"rgba(50, 206, 187, 0.15)"}},axisLabel:{color:"#6DC1CB",fontSize:14,interval:0,formatter:function(t){return t}},data:[]}],yAxis:[{type:"value",axisLine:{show:!1},axisLabel:{color:"#6DC1CB",fontSize:14,fontWeight:400},splitLine:{lineStyle:{color:"rgba(50, 206, 187, 0.15)"}}}],series:[]},c={props:{farmAreaInfo:{type:Object,default:function(){return Object(r.b)()}}},data:function(){return{chartInstance:null,operatorsTotal:0,loading:!1,legendList:[]}},mounted:function(){var t=this;this.$nextTick(function(){t.initMoudle()}),window.addEventListener("resize",this.adaptationChart),this.$once("hook:beforeDestroy",function(){window.removeEventListener("resize",this.adaptationChart)})},methods:{initMoudle:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.chartInstance=t._initEcharts(t.eContainerRef,s),e.next=4,t.getDataList();case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:r=n.categoryList,a=n.businessEntityByAreaList,i=n.sumSnBusinessEntityCount,r.forEach(function(e){e.count&&t.legendList.push(e)}),t.operatorsTotal=i,t.refreshChart(t.chartInstance,a,t.legendList),t.loading=!1;case 12:case"end":return e.stop()}},e,t)}))()},refreshChart:function(t,e,n){var r=this;return i(regeneratorRuntime.mark(function i(){var s,c,l,u,f,d,h,p;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:for(d in u=function(t,e){t[e]?(c["sortNum"+e].name=t[e].selectName,c["sortNum"+e].itemStyle.color=t[e].color,c["sortNum"+e].data.push(t[e].snBusinessCount||"")):t[e]||c["sortNum"+e].data.push("")},s=[],c={},n.forEach(function(t){c["sortNum"+t.sortNum]={name:"",type:"bar",barGap:0,itemStyle:{color:"#000"},label:o,data:[]}}),l=[],e.forEach(function(t){if("310100"!==t.areaId){s.push(a.b[t.areaId]),l.push(t.sumBusinessEntityByArea||0);var e={};t.detailList.forEach(function(t){e[t.sortNum]=t}),n.forEach(function(t){u(e,t.sortNum)})}}),f=[],c)h=parseInt(d.slice(-1))-1,f[h]=c[d];p={xAxis:{data:s,axisLabel:{formatter:function(t,e){return"{t|"+t+"}\n{s|}\n{b|"+l[e]+"家}"},rich:{t:{color:"#ecfeff",fontSize:14},s:{height:5},b:{color:"#FEEB48",fontSize:16}}}},series:f},t.setOption(p),r.adaptationChart();case 11:case"end":return i.stop()}},i,r)}))()},getDataList:function(){var t=a.a.map(function(t){return t.id});return this.$ajax.post(this.$api.overview.getStatisticsSnBusinessEntity,{farmAreaId:t,farmAreaType:this.farmAreaInfo.farmAreaType}).then(function(t){var e=t.data;return 0===e.respCode?e.obj:null}).catch(function(t){console.log("operators16List error: ",t)})},_initEcharts:function(t,e){var n=this.$echarts.init(t);return n.setOption(e),n},refreshRender:function(){this.chartInstance&&(this.chartInstance.resize(),this.adaptationChart())},adaptationChart:function(){var t={tooltip:{textStyle:{fontSize:12}},xAxis:{axisLabel:{rich:{t:{fontSize:14},b:{fontSize:16}}}}};(document.documentElement.clientWidth||document.body.clientWidth)>3e3?(t={tooltip:{textStyle:{fontSize:16}},xAxis:{axisLabel:{rich:{t:{fontSize:16},b:{fontSize:18}}}}},this.chartInstance&&this.chartInstance.setOption(t)):(t={tooltip:{textStyle:{fontSize:12}},xAxis:{axisLabel:{rich:{t:{fontSize:14},b:{fontSize:16}}}}},this.chartInstance&&this.chartInstance.setOption(t))}},computed:{eContainerRef:function(){return this.$refs.EContainer}}},l=n("W5g0");var u=function(t){n("F5Np")},f=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"operators-16-list",attrs:{"element-loading-spinner":"iconfont icon-loading1","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"top-cell"},[n("div",{staticClass:"total"},[n("span",[t._v("入网经营主体总数：")]),n("span",[n("i",[t._v(t._s(t.operatorsTotal))]),t._v("家")])]),t._v(" "),n("div",{staticClass:"legend"},t._l(t.legendList,function(e){return n("div",{key:e.category,staticClass:"legend-item",class:{marginMore:t.legendList.length<=4}},[n("span",{style:{backgroundColor:e.color}}),t._v(" "),n("span",[t._v(t._s("经作"===e.category?e.category+"/果园":e.category)+"：")]),t._v(" "),n("span",{style:{color:e.color}},[t._v(t._s(e.count)+"家")])])}),0)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"EContainer",staticClass:"echart-container"})])},[],!1,u,"data-v-3ae48ee4",null);e.default=f.exports}});
//# sourceMappingURL=35.f1ce7fa71a9599840470.js.map