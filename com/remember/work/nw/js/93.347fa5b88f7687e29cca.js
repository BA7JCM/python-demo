webpackJsonp([93],{JHMt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Wftt"),i=a("XPi1"),n=a("VCTt");function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function r(i,n){try{var s=e[i](n),c=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}("next")})}}var c=Object(n.b)(),o=["#F0C87B","#A6D889","#DD90CB","#9173FE","#4DCBFF","#1DE9B6","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],l={grid:{show:!0,borderColor:"#0D394A",bottom:32,left:45,right:20},color:o,tooltip:{show:!0,trigger:"item",textStyle:{fontSize:12,color:"#ffffff"},formatter:function(t){return t.name+"<br/>"+Object(n.j)({value:t.value})}},title:{text:"单位：",left:"center",top:35,textStyle:{fontSize:12,fontWeight:"normal",color:"#6DC1CB",height:20,lineHeight:14,width:70},backgroundColor:"#031424",borderRadius:10,padding:[4,8]},xAxis:{data:[],axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12},align:"center"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#0D394A"}},z:10},yAxis:{axisLine:{show:!1,lineStyle:{color:"#0D394A"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#0D394A"}},axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12}}},series:[{type:"bar",barWidth:24,data:[]}]},u={title:{show:!0,text:"溯源查询趋势图",textStyle:{fontSize:18,color:"#00F6FF"},left:"center"},grid:{show:!1,borderColor:"#fff",bottom:30,right:60},tooltip:{show:!0,trigger:"axis",textStyle:{fontSize:12,color:"#ffffff"},formatter:function(t){var e=t.map(function(t){return t.seriesName+": "+Object(n.j)({value:t.value})+"次"});return t[0].axisValue+"<br/>"+e.join("<br />")}},color:["#00F6FF"],xAxis:{data:[],boundaryGap:!0,axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12},align:"center"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#0D394A"}},z:10},yAxis:{name:"单位：次",nameTextStyle:{fontSize:14,color:"#6DC1CB",padding:[0,0,0,40]},axisLine:{show:!1,lineStyle:{color:"#0D394A"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"rgba(50, 206, 187, 0.15)"}},axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12}}},series:[{data:[],type:"line",smooth:!0,symbolSize:0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,246,255,0.5)"},{offset:1,color:"rgba(0,246,255,0.1)"}],global:!1}},lineStyle:{color:"#00F6FF"}}]},d=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy.MM",a=(new Date).setDate(1),r=new Date(a).getMonth(),i=[],s=0;s<6;s++)i.push("add"===t?Object(n.c)(new Date(a).setMonth(r++),e):Object(n.c)(new Date(a).setMonth(--r),e));return i},h={name:"produce",data:function(){return{historyYieldChart:null,historyYieldSubject:"agri",historyYieldDetailSubject:"agri",futureYieldChart:null,futureYieldSubject:"agri",futureYieldDetailSubject:"agri",checkTraChart:null,checkTraSubject:"agri",cropDistributionChart:null,cropDistributionSubject:"agri",historyDialogVisible:!1,historyDate:Object(n.k)(),historyTotal:0,historyTableData:null,historyTable:null,predictDialogVisible:!1,predictDate:new Date,predictTotal:0,predictTableData:null,predictTable:null,flowDateRange:{disabledDate:function(t){var e=(new Date).setDate(1),a=new Date(e).getMonth();return!(t<new Date(new Date(e).setMonth(a-1)))}},predictDateRange:{disabledDate:function(t){return!(t>new Date)}},farmTraData:[{title:"今日溯源查询",start:0,end:0,last:0,lastDes:"昨日"},{title:"本周溯源查询",start:0,end:0,last:0,lastDes:"上周"},{title:"本月溯源查询",start:0,end:0,last:0,lastDes:"上月"}],traSearchChart:null,traTabs:[{tab:"天",selected:!0},{tab:"周",selected:!1},{tab:"月",selected:!1}],traUrl:this.$api.traUrl,goodsSubject:[],goodsSubjectUnit:{}}},created:function(){this.getDayTra(),this.getWeekTra(),this.getMonthTra(),this.traUrl+=""+c.farmAreaId},mounted:function(){var t=this;this.$nextTick(s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.historyYieldChart=t._initEcharts(t.$refs.historyYieldChart,l),e.next=3,t.getCropSubject();case 3:t.setHistoryYield("agri"),t.historyYieldChart.on("click",function(e){t.historyDate=new Date(e.name.replace(/\./,"-")),t.historyYieldDetailSubject=t.historyYieldSubject,t.viewDetail("historyDialogVisible",!1)}),t.futureYieldChart=t._initEcharts(t.$refs.futureYieldChart,l),t.setFutureYield("agri"),t.futureYieldChart.on("click",function(e){t.predictDate=new Date(e.name.replace(/\./,"-")),t.futureYieldDetailSubject=t.futureYieldSubject,t.viewDetail("predictDialogVisible",!1)}),t.checkTraChart=t._initEcharts(t.$refs.checkTraChart,l),t.setCheckTraChart("agri"),t.cropDistributionChart=t._initEcharts(t.$refs.cropDistributionChart,l),t.setCropDistributionChart("agri"),t.traSearchChart=t._initEcharts(t.$refs.traSearchChart,u),t.switchTraTerm(1);case 14:case"end":return e.stop()}},e,t)}))),window.onresize=function(){t.historyYieldChart.resize(),t.futureYieldChart.resize(),t.checkTraChart.resize(),t.cropDistributionChart.resize(),t.traSearchChart.resize()}},methods:{checkSubjectChangeUnit:function(t){return{agri:!0,forestry:!1,animal:!1,fishery:!0}[t]},getCropSubject:function(){var t=this;return s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$ajax.post(t.$api.public.cropSubject,{}).then(function(e){var a=e.data;if(0===a.respCode)return t.goodsSubjectUnit={},t.goodsSubject=a.obj.list.map(function(e){return t.goodsSubjectUnit[e.cropSubjectIdentifier]="forestry"===e.cropSubjectIdentifier||"animal"===e.cropSubjectIdentifier?e.cropCategoryUnitAll:"吨",{name:e.cropSubjectNickname,id:e.cropSubjectIdentifier}}),!0}));case 1:case"end":return e.stop()}},e,t)}))()},_initEcharts:function(t,e){var a=this.$echarts.init(t);return a.setOption(e),a},viewDetail:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(this[t]=!0,t){case"historyDialogVisible":e&&(this.historyDate=Object(n.k)(),this.historyYieldDetailSubject=this.historyYieldSubject),this.getHisDetailYield(this.historyYieldDetailSubject);break;case"predictDialogVisible":e&&(this.predictDate=new Date,this.futureYieldDetailSubject=this.futureYieldSubject),this.getFutureDetailYield(this.futureYieldDetailSubject)}},getHistoryYield:function(t){return this.$ajax.post(this.$api.produce.historyYield,{dateList:d("minus","yyyy-MM-dd").reverse(),farmAreaId:[c.farmAreaId],farmAreaType:c.farmAreaType,subjectIdentifier:t}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj})},getFutureYield:function(t){return this.$ajax.post(this.$api.produce.futureYield,{dateList:d("add","yyyy-MM-dd"),farmAreaId:[c.farmAreaId],farmAreaType:c.farmAreaType,subjectIdentifier:t}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj})},getHisDetailYield:function(t){var e=this,a=this.goodsSubjectUnit[t];this.$ajax.post(this.$api.produce.hisDetailYield,{farmAreaId:[c.farmAreaId],farmAreaType:c.farmAreaType,date:this.historyDate.getTime(),pageNo:1,pageSize:1e3,subjectIdentifier:t}).then(function(r){var i=r.data,s=i.obj;0===i.respCode&&(e.historyTotal=s.totalOutput?Object(n.l)({value:e.checkSubjectChangeUnit(t)?s.totalOutput/Math.pow(10,3):s.totalOutput,unit:a}).formatter:"0"+a,e.historyTableData=[],s.pickPage&&(e.historyTableData=s.pickPage.list.map(function(a){return{cropType:a.cropName,actualProduction:Object(n.j)({value:e.checkSubjectChangeUnit(t)?a.sumTotal/Math.pow(10,3):a.sumTotal})}})),e.$nextTick(function(){if(e.historyTable)return e.historyTable.refresh(),e.historyTable.scrollTo(0,0,0),!0;e.historyTable=Object(n.a)(e.$refs.historyTable.$el.querySelector(".el-table__body-wrapper"))}))})},getFutureDetailYield:function(t){var e=this,a=this.goodsSubjectUnit[t];this.$ajax.post(this.$api.produce.futureDetailYield,{farmAreaId:[c.farmAreaId],farmAreaType:c.farmAreaType,date:this.predictDate.getTime(),pageNo:1,pageSize:1e3,subjectIdentifier:t}).then(function(r){var i=r.data,s=i.obj;0===i.respCode&&(e.predictTotal=s.totalOutput?Object(n.l)({value:e.checkSubjectChangeUnit(t)?s.totalOutput/Math.pow(10,3):s.totalOutput,unit:a}).formatter:"0"+a,e.predictTableData=[],s.apiPage&&s.apiPage.list.forEach(function(a){e.predictTableData.push({cropType:a.cropName,predictProduction:Object(n.j)({value:e.checkSubjectChangeUnit(t)?a.sumTotal/Math.pow(10,3):a.sumTotal})})}),e.$nextTick(function(){if(e.predictTable)return e.predictTable.scrollTo(0,0,0),e.predictTable.refresh(),!0;e.predictTable=Object(n.a)(e.$refs.predictTable.$el.querySelector(".el-table__body-wrapper"))}))})},getCheckTraChart:function(t){return this.$ajax.post(this.$api.produce.checkTra,{dateList:d("minus","yyyy-MM-dd").reverse(),farmAreaId:[c.farmAreaId],farmAreaType:c.farmAreaType,subjectIdentifier:t}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj})},getCropDistributionChart:function(t){return this.$ajax.post(this.$api.produce.cropDistribution,{dateList:d("minus","yyyy-MM-dd").reverse(),farmAreaId:[c.farmAreaId],farmAreaType:c.farmAreaType,plantStandardType:7,subjectIdentifier:t}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj})},setHistoryYield:function(t){var e=this;return s(regeneratorRuntime.mark(function a(){var r,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.goodsSubjectUnit[t],a.next=3,e.getHistoryYield(t);case 3:i=a.sent,e.historyYieldChart.setOption({tooltip:{show:!0,formatter:function(t){return t.name+"<br/>"+Object(n.l)({value:t.value,unit:r}).formatter}},title:{text:"单位："+r},yAxis:{axisLabel:{formatter:function(t){return Object(n.l)({value:t}).formatter}}},xAxis:{data:i.map(function(t){return Object(n.c)(t.pickTime,"yyyy.MM")}),axisLabel:{formatter:function(t){return t}}},series:[{data:i.map(function(a,r){return{name:Object(n.c)(a.pickTime,"yyyy.MM"),value:e.checkSubjectChangeUnit(t)?a.sumPickOutput/Math.pow(10,3):a.sumPickOutput,itemStyle:{color:o[r]}}})}]});case 5:case"end":return a.stop()}},a,e)}))()},setFutureYield:function(t){var e=this;return s(regeneratorRuntime.mark(function a(){var r,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.goodsSubjectUnit[t],a.next=3,e.getFutureYield(t);case 3:i=a.sent,e.futureYieldChart.setOption({tooltip:{show:!0,formatter:function(t){return t.name+"<br/>"+Object(n.l)({value:t.value,unit:r}).formatter}},xAxis:{data:i.map(function(t){return Object(n.c)(t.outputForecastMonth,"yyyy.MM")}),axisLabel:{formatter:function(t){return t}}},title:{text:"单位："+r},yAxis:{axisLabel:{formatter:function(t){return Object(n.l)({value:t}).formatter}}},series:[{data:i.map(function(a,r){return{name:Object(n.c)(a.outputForecastMonth,"yyyy.MM"),value:e.checkSubjectChangeUnit(t)?a.sumOutput/Math.pow(10,3):a.sumOutput,itemStyle:{color:o[r]}}})}]});case 5:case"end":return a.stop()}},a,e)}))()},setCheckTraChart:function(t){var e=this;return s(regeneratorRuntime.mark(function a(){var r,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getCheckTraChart(t);case 2:r=a.sent,i=e.goodsSubjectUnit[t],e.checkTraChart.setOption({color:[o[5],o[3]],tooltip:{show:!0,formatter:function(t){return t.name+"<br/>"+t.seriesName+"："+Object(n.l)({value:t.value,unit:i}).formatter}},legend:{data:["有检测报告","可追溯"],show:!0,top:14,right:20,height:22,itemWidth:12,itemHeight:12,textStyle:{color:"#6DC1CB",fontSize:12,lineHeight:20}},xAxis:{data:r.hasInspectReportVOList.map(function(t){return Object(n.c)(t.pickTime,"yyyy.MM")}),axisLabel:{formatter:function(t){return t}}},title:{text:"单位："+i},yAxis:{axisLabel:{formatter:function(t){return Object(n.l)({value:t}).formatter}}},series:[{type:"bar",name:"有检测报告",barWidth:14,data:r.hasInspectReportVOList.map(function(a){return{name:Object(n.c)(a.pickTime,"yyyy.MM"),value:e.checkSubjectChangeUnit(t)?a.sumPickOutput/Math.pow(10,3):a.sumPickOutput}})},{type:"bar",name:"可追溯",barWidth:14,data:r.boundBarcodeVOList.map(function(a){return{name:Object(n.c)(a.pickTime,"yyyy.MM"),value:e.checkSubjectChangeUnit(t)?a.sumPickOutput/Math.pow(10,3):a.sumPickOutput}})}]});case 5:case"end":return a.stop()}},a,e)}))()},setCropDistributionChart:function(t){var e=this;return s(regeneratorRuntime.mark(function a(){var r,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.goodsSubjectUnit[t],a.next=3,e.getCropDistributionChart(t);case 3:i=a.sent,e.cropDistributionChart.setOption({color:[o[2],o[0],o[5]],tooltip:{show:!0,formatter:function(t){return t.name+"<br/>"+t.seriesName+"："+Object(n.l)({value:t.value,unit:r}).formatter}},legend:{data:["无公害","绿色","有机"],show:!0,top:14,right:20,height:22,itemWidth:12,itemHeight:12,textStyle:{color:"#6DC1CB",fontSize:12,lineHeight:20}},xAxis:{data:i.lvseVOList.map(function(t){return Object(n.c)(t.pickTime,"yyyy.MM")}),axisLabel:{formatter:function(t){return t}}},title:{text:"单位："+r},yAxis:{axisLabel:{formatter:function(t){return Object(n.l)({value:t}).formatter}}},series:function(){var a=[],r=[],s="";for(var c in i){switch(c){case"lvseVOList":s="绿色";break;case"wughVOList":s="无公害";break;case"youjiVOList":s="有机"}a.push({name:s,type:"bar",barWidth:10,data:i[c].map(function(a){return{name:Object(n.c)(a.pickTime,"yyyy.MM"),value:e.checkSubjectChangeUnit(t)?a.sumPickOutput/Math.pow(10,3):a.sumPickOutput}})})}return a.forEach(function(t){switch(t.name){case"无公害":r[0]=t;break;case"绿色":r[1]=t;break;case"有机":r[2]=t}}),r}()});case 5:case"end":return a.stop()}},a,e)}))()},switchTraTerm:function(t){var e=this;this.traTabs.forEach(function(e,a){e.selected=a+1===t}),this.getTraSearchChart(t).then(function(a){var r=a.obj;e.setTraSearchChart(r,t)})},getTraSearchChart:function(t){var e=this;return new Promise(function(a,r){e.$ajax.post(e.$api.produce.traCodeCount,{statisticsType:t,farmAreaId:[c.farmAreaId],farmAreaType:c.farmAreaType}).then(function(t){var e=t.data;if(0===e.respCode)return a(e);r(new Error(""))})})},setTraSearchChart:function(t,e){this.traSearchChart.setOption({tooltip:{show:!0,formatter:function(t){var e=t[0];return e.name+"<br/>"+Object(n.l)({value:e.value,unit:"次"}).formatter}},xAxis:{data:t.map(function(t){var a="";switch(e){case 1:a=Object(n.c)(t.accessTime,"yyyy.MM.dd");break;case 2:a=Object(n.c)(t.startDate,"yyyy.MM.dd")+"~"+Object(n.c)(t.endDate,"yyyy.MM.dd");break;case 3:a=Object(n.c)(t.accessTime,"yyyy.MM")}return a}),axisLabel:{formatter:function(t){return t}}},yAxis:{name:"单位：次",axisLabel:{formatter:function(t){return Object(n.l)({value:t}).formatter}}},series:[{data:t.map(function(t){return{name:function(){var a="";switch(e){case 1:a=Object(n.c)(t.accessTime,"yyyy.MM.dd");break;case 2:a=Object(n.c)(t.startDate,"yyyy.MM.dd")+"~"+Object(n.c)(t.endDate,"yyyy.MM.dd");break;case 3:a=Object(n.c)(t.accessTime,"yyyy.MM")}return a}(),value:t.accessNum}})}]})},getTimeTraCount:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.startDate,r=void 0===a?(new Date).getTime():a,i=e.endDate,n=void 0===i?(new Date).getTime():i;return s(regeneratorRuntime.mark(function e(){var a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.govGovernmentSubjectVO),i={1:a.provinceId,2:a.cityId,3:a.countyId},s=null,e.next=5,new Promise(function(e,c){t.$ajax.post(t.$api.produce.timeTraCount,{farmAreaId:[i[a.subjectLevel]],farmAreaType:a.subjectLevel,startDate:r,endDate:n}).then(function(t){var a=t.data;if(0===a.respCode)return s=a,e(a);c()})});case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}},e,t)}))()},getDayTra:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).getTime(),r=a-864e5,e.next=4,t.getTimeTraCount({startDate:Object(n.c)(a,"yyyy-MM-dd"),endDate:Object(n.c)(a,"yyyy-MM-dd")});case 4:return t.farmTraData[0].end=e.sent.obj,e.next=7,t.getTimeTraCount({startDate:Object(n.c)(r,"yyyy-MM-dd"),endDate:Object(n.c)(r,"yyyy-MM-dd")});case 7:t.farmTraData[0].last=e.sent.obj;case 8:case"end":return e.stop()}},e,t)}))()},getWeekTra:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var a,r,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).getTime(),r=new Date(a).getDay(),i=Object(n.i)({originDay:a,day:r?-(r-1):-6}),s=Object(n.i)({originDay:i,day:-1}),c=Object(n.i)({originDay:s,day:-6}),e.next=7,t.getTimeTraCount({startDate:Object(n.c)(i,"yyyy-MM-dd"),endDate:Object(n.c)(a,"yyyy-MM-dd")});case 7:return t.farmTraData[1].end=e.sent.obj,e.next=10,t.getTimeTraCount({startDate:Object(n.c)(c,"yyyy-MM-dd"),endDate:Object(n.c)(s,"yyyy-MM-dd")});case 10:t.farmTraData[1].last=e.sent.obj;case 11:case"end":return e.stop()}},e,t)}))()},getMonthTra:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var a,r,i,s,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(new Date).getTime(),r=new Date(a).getDate(),i=Object(n.i)({originDay:a,day:-(r-1)}),s=Object(n.i)({originDay:i,day:-1}),c=new Date(s).getDate(),o=Object(n.i)({originDay:i,day:-c}),e.next=8,t.getTimeTraCount({startDate:Object(n.c)(i,"yyyy-MM-dd"),endDate:Object(n.c)(a,"yyyy-MM-dd")});case 8:return t.farmTraData[2].end=e.sent.obj,e.next=11,t.getTimeTraCount({startDate:Object(n.c)(o,"yyyy-MM-dd"),endDate:Object(n.c)(s,"yyyy-MM-dd")});case 11:t.farmTraData[2].last=e.sent.obj;case 12:case"end":return e.stop()}},e,t)}))()}},components:{freetekBox:r.default,countTo:i.default},watch:{}},f=a("W5g0");var p=function(t){a("LN2M")},b=Object(f.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"layout-container",attrs:{"data-title":"农产品监管"}},[a("div",{staticClass:"item-container"},[a("div",{staticClass:"s-item-wrap"},[a("div",{staticClass:"_s-item-wrap"},[a("freetek-box",{attrs:{title:"历史实际产量"}},[a("div",{staticClass:"chart-item-wrap"},[a("div",{ref:"historyYieldChart",staticClass:"chart-item"}),t._v(" "),a("el-button",{staticClass:"view-detail",attrs:{type:"text"},on:{click:function(e){return t.viewDetail("historyDialogVisible")}}},[t._v("\n              明细\n              "),a("i",{staticClass:"el-icon-d-arrow-right"})]),t._v(" "),a("el-select",{ref:"cropSearch",staticClass:"subject-select",attrs:{placeholder:"请选择"},on:{change:t.setHistoryYield},model:{value:t.historyYieldSubject,callback:function(e){t.historyYieldSubject=e},expression:"historyYieldSubject"}},t._l(t.goodsSubject,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)])],1)]),t._v(" "),a("div",{staticClass:"s-item-wrap"},[a("div",{staticClass:"_s-item-wrap"},[a("freetek-box",{attrs:{title:"未来预计产量"}},[a("div",{staticClass:"chart-item-wrap"},[a("div",{ref:"futureYieldChart",staticClass:"chart-item"}),t._v(" "),a("el-button",{staticClass:"view-detail",attrs:{type:"text"},on:{click:function(e){return t.viewDetail("predictDialogVisible")}}},[t._v("\n              明细\n              "),a("i",{staticClass:"el-icon-d-arrow-right"})]),t._v(" "),a("el-select",{ref:"cropSearch",staticClass:"subject-select",attrs:{placeholder:"请选择"},on:{change:t.setFutureYield},model:{value:t.futureYieldSubject,callback:function(e){t.futureYieldSubject=e},expression:"futureYieldSubject"}},t._l(t.goodsSubject,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)])],1)])]),t._v(" "),a("div",{staticClass:"b-item-wrap"},[a("div",{staticClass:"_b-item-wrap"},[a("freetek-box",{attrs:{title:"农产品溯源",size:"big"}},[a("div",{staticClass:"tra-inquiry-bar"},t._l(t.farmTraData,function(e,r){return a("div",{key:r,staticClass:"item-tra"},[a("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"item-num"},[a("count-to",{attrs:{startVal:e.start,endVal:e.end}})],1),t._v(" "),a("p",{staticClass:"relatively"},[t._v(t._s(e.lastDes)+"："+t._s(e.last)+" "),e.last!==e.end?a("i",{staticClass:"iconfont",class:[e.last<e.end?"icon-shang up":"icon-xia down"]}):t._e()])])}),0),t._v(" "),a("div",{staticClass:"_tra-search-line"},[a("div",{staticClass:"char-tabs"},t._l(t.traTabs,function(e,r){return a("div",{key:r,staticClass:"tab",class:{select:e.selected},on:{click:function(e){return t.switchTraTerm(r+1)}}},[t._v(t._s(e.tab)+"\n            ")])}),0),t._v(" "),a("div",{ref:"traSearchChart",staticClass:"tra-search-line"})]),t._v(" "),a("div",{staticClass:"tra-search-enter"},[a("a",{attrs:{href:t.traUrl,target:"_blank"}},[t._v("溯源查询")])])])],1)]),t._v(" "),a("div",{staticClass:"item-container"},[a("div",{staticClass:"s-item-wrap"},[a("div",{staticClass:"_s-item-wrap"},[a("freetek-box",{attrs:{title:"检测与追溯"}},[a("div",{staticClass:"chart-item-wrap"},[a("div",{ref:"checkTraChart",staticClass:"chart-item"}),t._v(" "),a("el-select",{ref:"cropSearch",staticClass:"subject-select",attrs:{placeholder:"请选择"},on:{change:t.setCheckTraChart},model:{value:t.checkTraSubject,callback:function(e){t.checkTraSubject=e},expression:"checkTraSubject"}},t._l(t.goodsSubject,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)])],1)]),t._v(" "),a("div",{staticClass:"s-item-wrap"},[a("div",{staticClass:"_s-item-wrap"},[a("freetek-box",{attrs:{title:"产量等级分布"}},[a("div",{staticClass:"chart-item-wrap"},[a("div",{ref:"cropDistributionChart",staticClass:"chart-item"}),t._v(" "),a("el-select",{ref:"cropSearch",staticClass:"subject-select",attrs:{placeholder:"请选择"},on:{change:t.setCropDistributionChart},model:{value:t.cropDistributionSubject,callback:function(e){t.cropDistributionSubject=e},expression:"cropDistributionSubject"}},t._l(t.goodsSubject,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)])],1)])]),t._v(" "),a("el-dialog",{attrs:{visible:t.historyDialogVisible,"show-close":!0,"close-on-click-modal":!1,top:"calc((100vh - 580px) / 2)","custom-class":"detail-dialog"},on:{"update:visible":function(e){t.historyDialogVisible=e}}},[a("freetek-box",{attrs:{title:"历史产量",size:"big"}},[a("div",{staticClass:"head-info"},[a("div",{staticClass:"select-wrap"},[a("el-date-picker",{attrs:{type:"month",format:"yyyy.MM","picker-options":t.flowDateRange,clearable:!1,placeholder:"选择月"},on:{change:function(e){return t.getHisDetailYield(t.historyYieldDetailSubject)}},model:{value:t.historyDate,callback:function(e){t.historyDate=e},expression:"historyDate"}}),t._v(" "),a("el-select",{ref:"cropSearch",staticClass:"subject-select",attrs:{placeholder:"请选择"},on:{change:t.getHisDetailYield},model:{value:t.historyYieldDetailSubject,callback:function(e){t.historyYieldDetailSubject=e},expression:"historyYieldDetailSubject"}},t._l(t.goodsSubject,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("p",{staticClass:"yield-info"},[t._v("\n          "+t._s(t._f("dateFormat")(t.historyDate,"yyyy年MM月"))+"实际产量："+t._s(t.historyTotal)+"\n        ")])]),t._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{ref:"historyTable",attrs:{data:t.historyTableData,stripe:"",height:"100%",width:"100%"}},[a("el-table-column",{attrs:{prop:"cropType",label:"种类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"actualProduction",label:"实际产量（"+t.goodsSubjectUnit[t.historyYieldDetailSubject]+"）",align:"right",width:"250px"}})],1)],1)])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.predictDialogVisible,"show-close":!0,"close-on-click-modal":!1,top:"calc((100vh - 580px) / 2)","custom-class":"detail-dialog"},on:{"update:visible":function(e){t.predictDialogVisible=e}}},[a("freetek-box",{attrs:{title:"预计产量",size:"big"}},[a("div",{staticClass:"head-info"},[a("div",{staticClass:"select-wrap"},[a("el-date-picker",{attrs:{type:"month",clearable:!1,format:"yyyy.MM","picker-options":t.predictDateRange,placeholder:"选择月"},on:{change:function(e){return t.getFutureDetailYield(t.futureYieldDetailSubject)}},model:{value:t.predictDate,callback:function(e){t.predictDate=e},expression:"predictDate"}}),t._v(" "),a("el-select",{ref:"cropSearch",staticClass:"subject-select",attrs:{placeholder:"请选择"},on:{change:t.getFutureDetailYield},model:{value:t.futureYieldDetailSubject,callback:function(e){t.futureYieldDetailSubject=e},expression:"futureYieldDetailSubject"}},t._l(t.goodsSubject,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("p",{staticClass:"yield-info"},[t._v("\n          "+t._s(t._f("dateFormat")(t.predictDate,"yyyy年MM月"))+"预计产量："+t._s(t.predictTotal)+"\n        ")])]),t._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{ref:"predictTable",attrs:{data:t.predictTableData,stripe:"",height:"100%",width:"100%"}},[a("el-table-column",{attrs:{prop:"cropType",label:"种类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"predictProduction",label:"预计产量（"+t.goodsSubjectUnit[t.futureYieldDetailSubject]+"）",width:"250px",align:"right"}})],1)],1)])],1)],1)},[],!1,p,"data-v-a6a2364a",null);e.default=b.exports},LN2M:function(t,e){}});
//# sourceMappingURL=93.347fa5b88f7687e29cca.js.map