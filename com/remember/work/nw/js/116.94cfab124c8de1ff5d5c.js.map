{"version":3,"file":"static/js/116.94cfab124c8de1ff5d5c.js","sources":["webpack:///src/components/planting/AgriculturalProductsSupervision.vue"],"sourcesContent":["<template>\r\n\t<box-item title=\"农产品监管\" :loading=\"loading\">\r\n\t\t<div class=\"info-wrap\" v-if=\"!loading\">\r\n\t\t\t<ul class=\"info-ul\">\r\n\t\t\t\t<li class=\"info-item\">\r\n\t\t\t\t\t<p class=\"info-name\">本月监管次数</p>\r\n\t\t\t\t\t<p class=\"info-value\">\r\n\t\t\t\t\t\t<b class=\"value\">{{ statisticsOnMonthVo.monthPatrolCount }}</b\r\n\t\t\t\t\t\t>次\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p class=\"info-juxtapose\">\r\n\t\t\t\t\t\t合格率：\r\n\t\t\t\t\t\t<b class=\"juxtapose-value\" v-if=\"statisticsOnMonthVo.monthPatrolCount\">{{ statisticsOnMonthVo.timesPassRate }}%</b>\r\n\t\t\t\t\t\t<b class=\"juxtapose-value\" v-else>--</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"info-item\">\r\n\t\t\t\t\t<p class=\"info-name\">年度已监管对象</p>\r\n\t\t\t\t\t<p class=\"info-value\">\r\n\t\t\t\t\t\t<b class=\"value\">{{ statisticsOnYearVo.yearPatrolCount }}</b\r\n\t\t\t\t\t\t>家\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p class=\"info-juxtapose\">\r\n\t\t\t\t\t\t合格率：\r\n\t\t\t\t\t\t<b class=\"juxtapose-value\" v-if=\"statisticsOnYearVo.yearPatrolCount\">{{ statisticsOnYearVo.patrolPassRate }}%</b>\r\n\t\t\t\t\t\t<b class=\"juxtapose-value\" v-else>--</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"info-item\">\r\n\t\t\t\t\t<p class=\"info-name\">年度已监管次数</p>\r\n\t\t\t\t\t<p class=\"info-value\">\r\n\t\t\t\t\t\t<b class=\"value\">{{ statisticsOnYearVo.yearPatrolTotalCount }}</b\r\n\t\t\t\t\t\t>次\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p class=\"info-juxtapose\">\r\n\t\t\t\t\t\t合格率：\r\n\t\t\t\t\t\t<b class=\"juxtapose-value\" v-if=\"statisticsOnYearVo.yearPatrolTotalCount\">{{ statisticsOnYearVo.timesPassRate }}%</b>\r\n\t\t\t\t\t\t<b class=\"juxtapose-value\" v-else>--</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</box-item>\r\n</template>\r\n\r\n<script>\r\nimport BoxItem from '@/components/common/BoxItem';\r\nimport {areaLevelCorAreaId, maxDecimalPlaces} from '@/common/fn';\r\n\r\nconst farmAreaInfo = areaLevelCorAreaId();\r\nexport default {\r\n\tname: 'AgriculturalProductsSupervision',\r\n\tprops: {},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t\tstatisticsOnMonthVo: {},\r\n\t\t\tstatisticsOnYearVo: {}\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.renderInfo();\r\n\t},\r\n\tmounted() {},\r\n\tmethods: {\r\n\t\t// 农产品月监管次数\r\n\t\tgetStatisticsOnMonthByArea() {\r\n\t\t\treturn this.$ajax\r\n\t\t\t\t.post(this.$api.safeSupervise.statisticsOnMonthByArea, {\r\n\t\t\t\t\tfarmAreaId: [farmAreaInfo.farmAreaId],\r\n\t\t\t\t\tfarmAreaType: farmAreaInfo.farmAreaType\r\n\t\t\t\t})\r\n\t\t\t\t.then(({data: res}) => {\r\n\t\t\t\t\tif (res.respCode === 0) {\r\n\t\t\t\t\t\treturn res.obj;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow new Error(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 农产品年监管次数\r\n\t\tgetStatisticsOnYearByArea() {\r\n\t\t\treturn this.$ajax\r\n\t\t\t\t.post(this.$api.safeSupervise.statisticsOnYearByArea, {\r\n\t\t\t\t\tfarmAreaId: [farmAreaInfo.farmAreaId],\r\n\t\t\t\t\tfarmAreaType: farmAreaInfo.farmAreaType\r\n\t\t\t\t})\r\n\t\t\t\t.then(({data: res}) => {\r\n\t\t\t\t\tif (res.respCode === 0) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\treturn res.obj;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow new Error(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 渲染\r\n\t\tasync renderInfo() {\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.statisticsOnMonthVo = await this.getStatisticsOnMonthByArea();\r\n\t\t\t\tthis.statisticsOnMonthVo['timesPassRate'] = maxDecimalPlaces({\r\n\t\t\t\t\tvalue: (this.statisticsOnMonthVo.monthPatrolQualifiedCount / this.statisticsOnMonthVo.monthPatrolCount) * 100\r\n\t\t\t\t});\r\n\t\t\t\tthis.statisticsOnYearVo = await this.getStatisticsOnYearByArea();\r\n\t\t\t\tthis.statisticsOnYearVo['timesPassRate'] = maxDecimalPlaces({\r\n\t\t\t\t\tvalue: (this.statisticsOnYearVo.yearPatrolTotalQualifiedCount / this.statisticsOnYearVo.yearPatrolTotalCount) * 100\r\n\t\t\t\t});\r\n\t\t\t\tthis.statisticsOnYearVo['patrolPassRate'] = maxDecimalPlaces({\r\n\t\t\t\t\tvalue: (this.statisticsOnYearVo.yearPatrolQualifiedCount / this.statisticsOnYearVo.yearPatrolCount) * 100\r\n\t\t\t\t});\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tBoxItem\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.info-wrap {\r\n\tmargin: 0 auto;\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tmax-width: calc(420px * 1.5);\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\t.info-ul {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 20px;\r\n\t\t.info-item {\r\n\t\t\ttext-align: center;\r\n\t\t\t.info-name {\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tcolor: #71ccde;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\theight: 25px;\r\n\t\t\t\tline-height: 25px;\r\n\t\t\t}\r\n\t\t\t.info-value {\r\n\t\t\t\tcolor: #feeb48;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\theight: 34px;\r\n\t\t\t\tline-height: 34px;\r\n\t\t\t\tmargin-top: 6px;\r\n\t\t\t\t.value {\r\n\t\t\t\t\tfont-size: 24px;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.info-juxtapose {\r\n\t\t\t\tcolor: #71ccde;\r\n\t\t\t\theight: 24px;\r\n\t\t\t\tline-height: 24px;\r\n\t\t\t\tmargin-top: 5px;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\t.juxtapose-value {\r\n\t\t\t\t\tcolor: #46f262;\r\n\t\t\t\t}\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\tmargin: 0 -2px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n/* 32:9超宽屏幕适配 */\r\n@media screen and (min-width: 3000px) {\r\n\t.info-wrap .info-ul .info-item .info-name {\r\n\t\tfont-size: 20px;\r\n\t\theight: 32px;\r\n\t\tline-height: 32px;\r\n\t}\r\n\t.info-wrap .info-ul .info-item .info-value {\r\n\t\tfont-size: 20px;\r\n\t}\r\n\t.info-wrap .info-ul .info-item .info-juxtapose {\r\n\t\tfont-size: 24px;\r\n\t\tmargin-top: 10px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/planting/AgriculturalProductsSupervision.vue"],"mappings":"AAiDA","sourceRoot":""}