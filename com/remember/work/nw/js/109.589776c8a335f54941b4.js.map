{"version":3,"file":"static/js/109.589776c8a335f54941b4.js","sources":["webpack:///src/recycle-bin/business-scale-statistics-21-新做的暂不用.vue"],"sourcesContent":["<template>\n\t<div class=\"business-scale-statistics-21\" v-loading=\"loading\" element-loading-spinner=\"iconfont icon-loading1\" element-loading-background=\"rgba(0, 0, 0, 0.2)\">\n\t\t<area-panel area-title=\"经营规模统计\" @hand-sub-title=\"handlePage\">\n\t\t\t<div slot=\"panelMain\" class=\"module-body\">\n\t\t\t\t<div class=\"echart-container\" ref=\"EContainer\" v-show=\"!loading\"></div>\n\t\t\t\t<div class=\"no-data\" v-show=\"!hasData\"><span>暂无数据</span></div>\n\t\t\t</div>\n\t\t</area-panel>\n\t</div>\n</template>\n<script>\nimport {areaLevelCorAreaId} from '@/common/fn';\nimport areaPanel from '@/components/overview/area-panel';\nconst chartOption = {\n\ttooltip: {\n\t\ttrigger: 'axis',\n\t\tformatter(a) {\n\t\t\tconst name = a[0].name.split('\\n').join('');\n\t\t\treturn `${name}<br/>\n              ${a[0].seriesName}：${a[0].value}家<br/>\n              ${a[1].seriesName}：${a[1].value}万家`;\n\t\t},\n\t\tbackgroundColor: '#043250',\n\t\tpadding: [13, 14, 13, 11],\n\t\ttextStyle: {\n\t\t\tfontSize: 12,\n\t\t\tcolor: '#9ED2D8'\n\t\t}\n\t},\n\tgrid: {\n\t\ttop: 0,\n\t\tleft: '2%',\n\t\tright: '10%',\n\t\tbottom: 0,\n\t\tcontainLabel: true\n\t},\n\txAxis: [\n\t\t{\n\t\t\ttype: 'value',\n\t\t\tshow: false,\n\t\t\tboundaryGap: [0, '20%'],\n\t\t\taxisLabel: {\n\t\t\t\tcolor: '#fff'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\ttype: 'value',\n\t\t\tshow: false,\n\t\t\tboundaryGap: [0, '20%'],\n\t\t\taxisLabel: {\n\t\t\t\tcolor: '#fff'\n\t\t\t}\n\t\t}\n\t],\n\tyAxis: {\n\t\ttype: 'category',\n\t\tdata: ['大于\\n500亩', '100至\\n500亩', '50至\\n100亩', '10至\\n50亩', '小于\\n10亩'],\n\t\tinverse: true,\n\t\taxisLabel: {\n\t\t\tcolor: '#6DC1CB',\n\t\t\tverticalAlign: 'middle',\n\t\t\tmargin: 0, // 清除默认间距\n\t\t\tpadding: [0, 5, 0, 0], // 右边内边距5\n\t\t\tlineHeight: 14\n\t\t}\n\t},\n\tseries: [\n\t\t// 经营主体数量 背景轴\n\t\t// {\n\t\t//   type:'bar',\n\t\t//   data:[15,15,15,15,15],\n\t\t//   barWidth:'32%',\n\t\t//   xAxisIndex: 0,\n\t\t//   yAxisIndex:1,\n\t\t//   itemStyle:{\n\t\t//     color: 'rgba(4, 190, 254, 0.2)'\n\t\t//   },\n\t\t//   label:{\n\t\t//     show:true,\n\t\t//     position:'right',\n\t\t//     color:'#FEEB48',\n\t\t//     fontWeight:'bold',\n\t\t//     fontSize:12,\n\t\t//     formatter:function ({value}){\n\t\t//       return value + ' ' + '家'\n\t\t//     }\n\t\t//   }\n\t\t// },\n\t\t// // 经营主体的总占地面积 背景轴\n\t\t// {\n\t\t//   type:'bar',\n\t\t//   data:[20,20,20,20,20],\n\t\t//   barWidth:'32%',\n\t\t//   xAxisIndex: 1,\n\t\t//   yAxisIndex:1,\n\t\t//   itemStyle:{\n\t\t//     color: 'rgba(4, 190, 254, 0.2)'\n\t\t//   },\n\t\t//   label:{\n\t\t//     show:true,\n\t\t//     position:'right',\n\t\t//     color:'#FEEB48',\n\t\t//     fontWeight:'bold',\n\t\t//     fontSize:12,\n\t\t//     formatter:function ({value}){\n\t\t//       return value + ' ' + '万亩'\n\t\t//     }\n\t\t//   }\n\t\t// },\n\t\t// 两个数据轴\n\t\t{\n\t\t\tname: '经营主体数量',\n\t\t\ttype: 'bar',\n\t\t\tdata: [],\n\t\t\tbarWidth: '28%',\n\t\t\txAxisIndex: 0,\n\t\t\titemStyle: {\n\t\t\t\tcolor: {\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tx2: 1,\n\t\t\t\t\ty2: 0,\n\t\t\t\t\tcolorStops: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toffset: 0,\n\t\t\t\t\t\t\tcolor: '#01C1FF' // 0% 处的颜色\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toffset: 1,\n\t\t\t\t\t\t\tcolor: '#00F6FF' // 100% 处的颜色\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tglobal: false // 缺省为 false\n\t\t\t\t}\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tshow: true,\n\t\t\t\tposition: 'right',\n\t\t\t\tcolor: '#00F6FF',\n\t\t\t\tfontWeight: 'bold',\n\t\t\t\tfontSize: 12,\n\t\t\t\tformatter: function({value}) {\n\t\t\t\t\treturn value + ' ' + '家';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tname: '经营主体总占地面积',\n\t\t\ttype: 'bar',\n\t\t\tdata: [],\n\t\t\tbarWidth: '28%',\n\t\t\txAxisIndex: 1,\n\t\t\titemStyle: {\n\t\t\t\tcolor: {\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tx2: 1,\n\t\t\t\t\ty2: 0,\n\t\t\t\t\tcolorStops: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toffset: 0,\n\t\t\t\t\t\t\tcolor: '#D29C50' // 0% 处的颜色\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toffset: 1,\n\t\t\t\t\t\t\tcolor: '#E6E768' // 100% 处的颜色\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tglobal: false // 缺省为 false\n\t\t\t\t}\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tshow: true,\n\t\t\t\tposition: 'right',\n\t\t\t\tcolor: '#FEEB48',\n\t\t\t\tfontWeight: 'bold',\n\t\t\t\tfontSize: 12,\n\t\t\t\tformatter: function({value}) {\n\t\t\t\t\treturn value + ' ' + '万亩';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t]\n};\nexport default {\n\tname: 'business-scale-statistics-21',\n\tprops: {\n\t\tfarmAreaInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn areaLevelCorAreaId();\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tchartInstance: null,\n\t\t\thasData: true,\n\t\t\tloading: false\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.$nextTick(() => {\n\t\t\tthis.initMoudle();\n\t\t});\n\t\twindow.addEventListener('resize', this.adaptationFontSize);\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('resize', this.adaptationFontSize);\n\t},\n\tmethods: {\n\t\tasync initMoudle() {\n\t\t\tthis.loading = true;\n\t\t\tthis.chartInstance = this._initEcharts(this.eContainerRef, chartOption);\n\t\t\tconst result = await this.getBusinessScale();\n\t\t\tif (!result) {\n\t\t\t\tthis.hasData = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.refreshChart(this.chartInstance, result);\n\t\t\tthis.loading = false;\n\t\t},\n\t\t// 获取经营主体规模分布\n\t\tgetBusinessScale() {\n\t\t\treturn this.$ajax\n\t\t\t\t.post(this.$api.overview.getAreaBusinessScaleStatistics, {\n\t\t\t\t\tfarmAreaId: [this.farmAreaInfo.farmAreaId],\n\t\t\t\t\tfarmAreaType: this.farmAreaInfo.farmAreaType\n\t\t\t\t})\n\t\t\t\t.then(({data}) => {\n\t\t\t\t\tif (data.respCode === 0) {\n\t\t\t\t\t\tconsole.log('经营主体规模统计：', data);\n\t\t\t\t\t\treturn data.obj;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(new Error('获取经营主体规模统计error'), e);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tconsole.log(new Error('获取经营主体规模统计error'), e);\n\t\t\t\t});\n\t\t},\n\t\t_initEcharts(el, option) {\n\t\t\tconst chart = this.$echarts.init(el);\n\t\t\tchart.setOption(option);\n\t\t\treturn chart;\n\t\t},\n\t\trefreshChart(chartInstance, result) {\n\t\t\tconst chartOpts = {\n\t\t\t\tseries: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: result.map(item => {\n\t\t\t\t\t\t\treturn item.businessCount;\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: result.map(item => {\n\t\t\t\t\t\t\treturn item.totalArea;\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\tthis.chartInstance.setOption(chartOpts);\n\t\t},\n\t\thandlePage() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'operateSubjectList'\n\t\t\t});\n\t\t},\n\t\trefreshRender() {\n\t\t\tif (this.chartInstance) {\n\t\t\t\tthis.chartInstance.resize();\n\t\t\t}\n\t\t},\n\t\tadaptationFontSize() {\n\t\t\tconst htmlWidth = document.documentElement.clientWidth || document.body.clientWidth;\n\t\t\tif (htmlWidth > 3000) {\n\t\t\t\tconst opts = {\n\t\t\t\t\ttooltip: {\n\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\tfontSize: 18\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tyAxis: {\n\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\tfontSize: 18,\n\t\t\t\t\t\t\tlineHeight: 22\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tseries: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\tfontSize: 18\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\tfontSize: 18\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t\tif (this.chartInstance) {\n\t\t\t\t\tthis.chartInstance.setOption(opts);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\teContainerRef() {\n\t\t\treturn this.$refs.EContainer;\n\t\t}\n\t},\n\tcomponents: {\n\t\tareaPanel\n\t}\n};\n</script>\n<style lang=\"scss\" scoped>\n.business-scale-statistics-21 {\n\twidth: 100%;\n\theight: 100%;\n\t.module-body {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\t.echart-container {\n\t\t\twidth: 95%;\n\t\t\theight: 100%;\n\t\t\tmargin: 0 auto;\n\t\t}\n\t\t.no-data {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-size: 14px;\n\t\t\tcolor: #00f6ff;\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n}\n/deep/ .el-loading-spinner {\n\toverflow: hidden;\n\t.iconfont {\n\t\tdisplay: block;\n\t\tfont-size: 40px;\n\t\tcolor: #00f6ff;\n\t\tanimation: loading 1.25s linear infinite;\n\t\tmargin-top: 24px;\n\t\tmargin-left: 8px;\n\t}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/recycle-bin/business-scale-statistics-21-新做的暂不用.vue"],"mappings":"AAaA","sourceRoot":""}