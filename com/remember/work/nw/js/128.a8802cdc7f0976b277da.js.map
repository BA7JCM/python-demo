{"version":3,"file":"static/js/128.a8802cdc7f0976b277da.js","sources":["webpack:///src/components/overview/DynamicTotal.vue"],"sourcesContent":["<template>\r\n\t<div class=\"dynamic-wrap\">\r\n\t\t<p class=\"content\">\r\n\t\t\t<span>本月信息直报</span>\r\n\t\t\t<count-to :start-val=\"startVal\" :end-val=\"endVal\" :multiLen=\"200\" :duration=\"duration\" />\r\n\t\t\t条\r\n\t\t</p>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport CountTo from '@/components/common/countTo';\r\nimport {areaLevelCorAreaId} from '@/common/fn';\r\n\r\nareaLevelCorAreaId();\r\nlet timer = null;\r\nexport default {\r\n\tname: 'DynamicTotal',\r\n\tprops: {\r\n\t\tfarmAreaInfo: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: areaLevelCorAreaId\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstartVal: 0,\r\n\t\t\tendVal: 0,\r\n\t\t\tduration: 3000\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.initPage();\r\n\t},\r\n\tmounted() {},\r\n\tmethods: {\r\n\t\t// 按月查询农场经营实时动态数量\r\n\t\tgetFarmRealTimeDynamicListCountOnMonthByArea() {\r\n\t\t\treturn this.$ajax\r\n\t\t\t\t.post(this.$api.produce.farmRealTimeDynamic.listCountByAreaAndType2, {\r\n\t\t\t\t\tfarmAreaId: [this.farmAreaInfo.farmAreaId],\r\n\t\t\t\t\tfarmAreaType: this.farmAreaInfo.farmAreaType,\r\n\t\t\t\t\ttype: 2 // 1-日 2-月 3-年\r\n\t\t\t\t})\r\n\t\t\t\t.then(({data: res}) => {\r\n\t\t\t\t\tif (res.respCode === 0) {\r\n\t\t\t\t\t\treturn res.obj;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow new Error(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\t// console.log(e);\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tinitPage() {\r\n\t\t\tthis.renderInfo();\r\n\r\n\t\t\tthis.clearTimer();\r\n\t\t\ttimer = setInterval(() => {\r\n\t\t\t\tthis.renderInfo();\r\n\t\t\t}, 5000);\r\n\t\t},\r\n\t\tasync renderInfo() {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await this.getFarmRealTimeDynamicListCountOnMonthByArea();\r\n\t\t\t\tif (this.endVal <= res) {\r\n\t\t\t\t\tthis.startVal = this.endVal;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.startVal = 0;\r\n\t\t\t\t}\r\n\t\t\t\tthis.endVal = res > 999999 ? 999999 : res;\r\n\t\t\t\tif (this.endVal >= 999999) {\r\n\t\t\t\t\tthis.clearTimer();\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclearTimer() {\r\n\t\t\tif (timer) {\r\n\t\t\t\tclearInterval(timer);\r\n\t\t\t\ttimer = null;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tCountTo\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.dynamic-wrap {\r\n\t@height: 26px;\r\n\theight: @height;\r\n\t.content {\r\n\t\twhite-space: nowrap;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: fade(#00f6ff, 50%);\r\n\t\theight: @height;\r\n\t\tline-height: @height;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\r\n\t\tspan {\r\n\t\t\tcolor: #00f6ff;\r\n\t\t\tfont-size: 18px;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t}\r\n\t/deep/.count-to {\r\n\t\tpadding: 0 5px;\r\n\t\t.count-to-container {\r\n\t\t\t.octagon {\r\n\t\t\t\twidth: 20px;\r\n\t\t\t\theight: @height;\r\n\t\t\t\tpadding: 0;\r\n\t\t\t\tbackground: url('~@/assets/images/overview/count-to-unit-bg.png') no-repeat;\r\n\t\t\t\tbackground-size: 100% 100%;\r\n\t\t\t\t&:before,\r\n\t\t\t\t&:after {\r\n\t\t\t\t\tbackground: none;\r\n\t\t\t\t\twidth: 0;\r\n\t\t\t\t\theight: 0;\r\n\t\t\t\t}\r\n\t\t\t\t._octagon {\r\n\t\t\t\t\tbackground: none;\r\n\t\t\t\t\t.iconfont {\r\n\t\t\t\t\t\tfont-size: 18px;\r\n\t\t\t\t\t\tcolor: #feeb48;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n/* 32:9超宽屏幕适配 */\r\n@media screen and (min-width: 3000px) {\r\n\t.dynamic-wrap .content {\r\n\t\tfont-size: 22px;\r\n\t}\r\n\t.count-to .octagon ._octagon .iconfont {\r\n\t\tfont-size: 32px;\r\n\t\ttop: 55%;\r\n\t}\r\n\t/deep/.count-to {\r\n\t\tpadding: 0 5px;\r\n\t\t.count-to-container {\r\n\t\t\t.octagon {\r\n\t\t\t\twidth: 30px !important;\r\n\t\t\t\theight: 36px !important;\r\n\t\t\t\t._octagon {\r\n\t\t\t\t\tbackground: none;\r\n\t\t\t\t\t.iconfont {\r\n\t\t\t\t\t\tfont-size: 22px !important;\r\n\t\t\t\t\t\ttop: 55% !important;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/overview/DynamicTotal.vue"],"mappings":"AAcA","sourceRoot":""}