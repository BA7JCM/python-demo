webpackJsonp([128],{QlpB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("XPi1"),a=n("VCTt");Object(a.b)();var i=null,o={name:"DynamicTotal",props:{farmAreaInfo:{type:Object,default:a.b}},data:function(){return{startVal:0,endVal:0,duration:3e3}},created:function(){this.initPage()},mounted:function(){},methods:{getFarmRealTimeDynamicListCountOnMonthByArea:function(){return this.$ajax.post(this.$api.produce.farmRealTimeDynamic.listCountByAreaAndType2,{farmAreaId:[this.farmAreaInfo.farmAreaId],farmAreaType:this.farmAreaInfo.farmAreaType,type:2}).then(function(t){var e=t.data;if(0===e.respCode)return e.obj;throw new Error(e)}).catch(function(t){throw t})},initPage:function(){var t=this;this.renderInfo(),this.clearTimer(),i=setInterval(function(){t.renderInfo()},5e3)},renderInfo:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getFarmRealTimeDynamicListCountOnMonthByArea();case 3:n=t.sent,e.endVal<=n?e.startVal=e.endVal:e.startVal=0,e.endVal=n>999999?999999:n,e.endVal>=999999&&e.clearTimer(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,i){try{var o=e[a](i),c=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}("next")})})()},clearTimer:function(){i&&(clearInterval(i),i=null)}},components:{CountTo:r.default}},c=n("W5g0");var s=function(t){n("cDr6")},u=Object(c.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dynamic-wrap"},[e("p",{staticClass:"content"},[e("span",[this._v("本月信息直报")]),this._v(" "),e("count-to",{attrs:{"start-val":this.startVal,"end-val":this.endVal,multiLen:200,duration:this.duration}}),this._v("\n\t\t条\n\t")],1)])},[],!1,s,"data-v-1ca52944",null);e.default=u.exports},cDr6:function(t,e){}});
//# sourceMappingURL=128.a8802cdc7f0976b277da.js.map