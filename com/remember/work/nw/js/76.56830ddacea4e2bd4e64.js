webpackJsonp([76],{"77Nr":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("VR0t"),i=n("yivU"),r=n("ae5q"),o=n("VCTt");var l={data:function(){return{loading:!1,viewImgDialog:!1,fieldsDetailList:[],sortDirection:1,sortField:1,landCountDefaultSort:"none",landArceDefaultSort:"descending"}},props:{regulatoryVisible:{default:!1,type:Boolean},cropId:{default:"",type:String},area:{default:{},type:function(){return{}}},title:{default:"",type:String}},computed:{dialog:{get:function(){return this.regulatoryVisible},set:function(t){this.$emit("update:regulatoryVisible",t)}}},mounted:function(){this.getFieldsDetailList()},methods:{sortChange:function(t){if(this.currentPage=1,"landCountOnPlanting"===t.prop){if("none"===this.landCountDefaultSort)return this.landArceDefaultSort="none",this.landCountDefaultSort="descending",this.sortField=0,this.sortDirection=1,void this.getFieldsDetailList();this.sortField=0,this.sortDirection="descending"===t.order?1:0}if("landArceOnPlanting"===t.prop){if("none"===this.landArceDefaultSort)return this.landCountDefaultSort="none",this.landArceDefaultSort="descending",this.sortField=1,this.sortDirection=1,void this.getFieldsDetailList();this.sortField=1,this.sortDirection="descending"===t.order?1:0}this.getFieldsDetailList()},getFieldsDetailList:function(){var t=this;return function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,r){try{var o=e[i](r),l=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(l).then(function(t){a("next",t)},function(t){a("throw",t)});t(l)}("next")})}}(regeneratorRuntime.mark(function e(){var n,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n=Object(o.b)(),a={cropGroupId:t.cropId,farmAreaId:t.area.id?[t.area.id]:[n.farmAreaId],farmAreaType:t.area.level?t.area.level:n.farmAreaType,pageNo:1,pageSize:100,sortDirection:t.sortDirection,sortField:t.sortField},e.next=5,t.$ajax.post(t.$api.produce.fieldsGroupDetailList,a);case 5:0===(i=e.sent).data.respCode&&(t.fieldsDetailList=i.data.obj.list),t.loading=!1;case 8:case"end":return e.stop()}},e,t)}))()}},components:{Dialog:a.default,CustomTable:i.default,CustomTableSort:r.default}},s=n("W5g0");var d=function(t){n("UP7G"),n("KeEI")},u=Object(s.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fields-statistics-dialog"},[n("Dialog",{attrs:{dialogVisible:t.dialog,title:t.title+"的在田情况",loading:t.loading,dialogTop:"calc(50vh - 256px)"},on:{"update:dialogVisible":function(e){t.dialog=e},"update:dialog-visible":function(e){t.dialog=e}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"regulatory-con"},[n("CustomTable",{attrs:{theme:"dialog-dark"}},[n("template",{slot:"table-container"},[n("el-table",{staticStyle:{"max-width":"760px"},attrs:{data:t.fieldsDetailList,height:"430"}},[n("el-table-column",{attrs:{label:"经营主体名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"text"},[t._v(t._s(e.row.farmName))])]}}])}),t._v(" "),n("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(e){return[n("CustomTableSort",{attrs:{title:"在田地块数（个）",prop:"landCountOnPlanting",defaultSort:t.landCountDefaultSort,theme:"dialog-dark"},on:{sortChange:t.sortChange}})]}},{key:"default",fn:function(e){return[n("span",{staticClass:"text-blue"},[t._v(t._s(e.row.landCountOnPlanting))])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"180"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("CustomTableSort",{attrs:{title:"在田面积（亩）",prop:"landArceOnPlanting",defaultSort:t.landArceDefaultSort,theme:"dialog-dark"},on:{sortChange:t.sortChange}})]}},{key:"default",fn:function(e){return[n("span",{staticClass:"text-green"},[t._v(t._s(e.row.landArceOnPlanting))])]}}])})],1)],1)],2)],1)])],1)},[],!1,d,"data-v-2f71f34f",null);e.default=u.exports},KeEI:function(t,e){},UP7G:function(t,e){}});
//# sourceMappingURL=76.56830ddacea4e2bd4e64.js.map