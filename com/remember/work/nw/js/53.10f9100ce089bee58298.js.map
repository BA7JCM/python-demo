{"version":3,"file":"static/js/53.10f9100ce089bee58298.js","sources":["webpack:///src/pages/farmProductBrand/components/brandWall.vue"],"sourcesContent":["<template>\n\t<div class=\"box\">\n\t\t<layout-box>\n\t\t\t<box-item title=\"品牌墙\" showSubTitle subTitle=\"全部\" @hand-sub-title=\"handlePage\" :loading=\"loading\">\n\t\t\t\t<div class=\"brand-wall\" ref=\"brandWall\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"brand-box\" v-for=\"(item, index) in brandList\" :key=\"index\">\n\t\t\t\t\t\t\t<div class=\"brand-item\" v-for=\"i in item\" :key=\"i.id\" @click=\"brandClick(i.id)\">\n\t\t\t\t\t\t\t\t<el-image class=\"brand-item-image\" :src=\"i.firstCropImageUrl\" fit=\"cover\"></el-image>\n\t\t\t\t\t\t\t\t<div class=\"brand-item-name\">{{ i.name }}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</box-item>\n\t\t</layout-box>\n\t</div>\n</template>\n<script>\nimport LayoutBox from '@/components/common/LayoutBox.vue';\nimport BoxItem from '@/components/common/BoxItem.vue';\nimport {_initBScroll, areaLevelCorAreaId} from '@/common/fn';\n/**\n * 数组分片，当数组长度超过step时，以step为步长分片数组\n * @param {Array} arr\n * @param {Number} step 分片步长\n */\nconst arraySplit = (arr, step = 9) => {\n\tconst len = arr.length;\n\tconst rec = [];\n\tif (len <= step) {\n\t\treturn [arr];\n\t}\n\tfor (let i = 0; i < len; i += step) {\n\t\trec.push(arr.slice(i, i + step));\n\t}\n\treturn rec;\n};\nexport default {\n\tprops: {\n\t\tfarmAreaInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => areaLevelCorAreaId()\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tscroll: null,\n\t\t\tbrandList: [],\n\t\t\tloading: false\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.getBrandList();\n\t\tsetTimeout(() => {\n\t\t\tthis.scroll = _initBScroll(this.$refs.brandWall);\n\t\t}, 200);\n\t},\n\twatch: {\n\t\tbrandList() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tif (this.scroll) {\n\t\t\t\t\tthis.scroll.refresh();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\t// 获取品牌列表\n\t\tgetBrandList() {\n\t\t\tthis.loading = true;\n\t\t\tthis.$ajax\n\t\t\t\t.post(this.$api.brand.getPpBrandList, {\n\t\t\t\t\tfarmAreaId: [this.farmAreaInfo.farmAreaId],\n\t\t\t\t\tfarmAreaType: this.farmAreaInfo.farmAreaType,\n\t\t\t\t\tpageNo: 1,\n\t\t\t\t\tpageSize: 45,\n\t\t\t\t\tfilterNoneImageFlag: 1\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.data.respCode === 0) {\n\t\t\t\t\t\tthis.brandList = arraySplit(res.data.obj.list);\n\t\t\t\t\t}\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t},\n\t\tbrandClick(id) {\n\t\t\tthis.$emit('on-brand-click', id);\n\t\t},\n\t\t// 跳转至品牌列表页\n\t\thandlePage() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'farmProductBrandList'\n\t\t\t});\n\t\t}\n\t},\n\tcomponents: {\n\t\tLayoutBox,\n\t\tBoxItem\n\t}\n};\n</script>\n<style scoped lang=\"scss\">\n@import '~styles/scrollbarSkin_default';\n.box {\n\tbox-sizing: border-box;\n\tpadding: 10px;\n\theight: 50%;\n}\n.brand-wall {\n\tbox-sizing: border-box;\n\tpadding-top: 12px;\n\theight: 100%;\n\tposition: relative;\n\toverflow: hidden;\n\t// .btn {\n\t// \twidth: 20px;\n\t// \theight: 20px;\n\t// \tbackground: red;\n\t// \tposition: absolute;\n\t// }\n\t// .left-btn {}\n\t// .right-btn {\n\t// \tright: 0;\n\t// }\n\t.brand-box {\n\t\t// position: absolute;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\theight: 100%;\n\t\t.brand-item {\n\t\t\twidth: 33.33%;\n\t\t\tbox-sizing: border-box;\n\t\t\tpadding: 6px;\n\t\t\tposition: relative;\n\t\t\tcursor: pointer;\n\t\t\t.brand-item-image {\n\t\t\t\tdisplay: block;\n\t\t\t\theight: 84px;\n\n\t\t\t\tborder: 1px solid #00a4c2;\n\t\t\t}\n\t\t\t.brand-item-name {\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 6px;\n\t\t\t\tleft: 6px;\n\t\t\t\tright: 6px;\n\t\t\t\tfont-size: 6px;\n\t\t\t\ttext-align: center;\n\t\t\t\tbackground-color: #00a4c2ff;\n\n\t\t\t\tfont-size: 12px;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tcolor: #00f6ff;\n\t\t\t\tpadding: 2px 0;\n\t\t\t\tline-height: 13px;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/farmProductBrand/components/brandWall.vue"],"mappings":"AAsCA","sourceRoot":""}