webpackJsonp([29],{JaP0:function(e,t){},ab8X:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=n("xk5x"),i=n("VCTt"),o=n("VKKs"),s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(a,i){try{var o=t[a](i),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var l=Object(o.b)("govGovernmentSubjectVO"),f={grid:{show:!1,height:"85%",width:"86%",left:"7%",bottom:"15%"},tooltip:{show:!0,trigger:"item",formatter:function(e){return e.name+"："+e.value+"家"},backgroundColor:"#043250",padding:[13,14,13,11],textStyle:{fontSize:12,color:"#9ED2D8"}},xAxis:{data:[],axisLabel:{interval:0,textStyle:{color:"#6EC2CB",fontSize:12,lineHeight:14},align:"center"},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{show:!1,name:"单位：",nameTextStyle:{fontSize:14,color:"#6DC1CB",padding:[0,0,10,0]},axisLine:{show:!1,lineStyle:{color:"#0D394A"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#0D394A"}},axisLabel:{textStyle:{color:"#6DC1CB",fontSize:12}}},series:[{type:"bar",itemStyle:{normal:{color:"rgba(4, 190, 254, 0.2)"}},silent:!0,barWidth:50,barGap:"-100%",data:[]},{type:"bar",barWidth:50,data:[],label:{show:!0,position:"top",fontSize:12,formatter:"{c}家"},z:10,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#00F6FF"},{offset:1,color:"#01C1FF"}],global:!1}}}]},h={name:"business-scale-4",props:{farmAreaInfo:{type:Object,default:function(){return Object(i.b)()}}},data:function(){return{mainLoading:!0,chartInstance:null,hasData:!0}},mounted:function(){var e=this;this.$nextTick(function(){e.initMoudle()})},methods:{initMoudle:function(){var e=this;return u(regeneratorRuntime.mark(function t(){var r,n,a,i,o,c,u,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.hasData=e.mainLoading=!0,e.chartInstance=e._initEcharts(e.eContainerRef,f),t.next=4,e.getBusinessScale(e.farmAreaInfo.farmAreaId,e.farmAreaInfo.farmAreaType);case 4:if(r=t.sent,n=s(r,2),a=n[0],i=s(n[1],2),o=i[0],c=i[1],a){t.next=12;break}return t.abrupt("return");case 12:if(o===e.farmAreaInfo.farmAreaId&&c===e.farmAreaInfo.farmAreaType){t.next=14;break}return t.abrupt("return");case 14:if(u=a.reverse(),0!==(l=u.reduce(function(e,t){return e+t.count},0))){t.next=20;break}return e.hasData=!1,e.mainLoading=!1,t.abrupt("return");case 20:e.refreshChart(e.chartInstance,u,l),e.mainLoading=!1;case 22:case"end":return t.stop()}},t,e)}))()},refreshRender:function(){this.chartInstance&&this.chartInstance.resize()},getBusinessScale:function(t,r){var n=arguments;return this.$ajax.post(this.$api.overview.getBusinessScale,{farmAreaId:[t],farmAreaType:r,dataTargetFlag:l.dataTargetFlag}).then(function(t){var r=t.data;return 0===r.respCode?[r.obj,[].concat(c(n))]:(console.log(new Error("获取经营主体规模分布error"),e),[null,[].concat(c(n))])}).catch(function(e){console.log(new Error("获取经营主体规模分布error"),e)})},_initEcharts:function(e,t){var r=this.$echarts.init(e);return r.setOption(t),r},refreshChart:function(e,t,r){var n=this;return u(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t&&t.length&&t.length>1&&(o={xAxis:{data:t.map(function(e){return e.name+"亩"})},series:[{data:new Array(t.length).fill(r)},{data:t.map(function(e){var t=Object(i.j)({value:e.count/r})>.84;return{value:e.count,label:{position:t?"insideTop":"top",color:t?"#033250":"#00F6FF"}}})}]},e.setOption(o));case 1:case"end":return n.stop()}},a,n)}))()},handlePage:function(){this.$emit("handleClick","operateSubjectList","经营规模统计")}},computed:{eContainerRef:function(){return this.$refs.EContainer}},components:{areaPanel:a.default}},d=n("W5g0");var m=function(e){n("JaP0")},p=Object(d.a)(h,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:this.mainLoading,expression:"mainLoading"}],staticClass:"gov-area-panel",attrs:{"element-loading-spinner":"iconfont icon-loading1","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[t("area-panel",{attrs:{"area-title":"经营规模统计"},on:{"hand-sub-title":this.handlePage}},[t("div",{staticClass:"module-body",attrs:{slot:"panelMain"},slot:"panelMain"},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.hasData,expression:"hasData"}],ref:"EContainer",staticClass:"echart-container"}),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!this.hasData,expression:"!hasData"}],staticClass:"no-data"},[t("span",[this._v("暂无数据")])])])])],1)},[],!1,m,"data-v-6f671c0e",null);r.default=p.exports}});
//# sourceMappingURL=29.6d288cc9cd088ff516b1.js.map