webpackJsonp([109],{qRsq:function(e,t){},wAnD:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a("VCTt"),i=a("xk5x");var o={tooltip:{trigger:"axis",formatter:function(e){return e[0].name.split("\n").join("")+"<br/>\n              "+e[0].seriesName+"："+e[0].value+"家<br/>\n              "+e[1].seriesName+"："+e[1].value+"万家"},backgroundColor:"#043250",padding:[13,14,13,11],textStyle:{fontSize:12,color:"#9ED2D8"}},grid:{top:0,left:"2%",right:"10%",bottom:0,containLabel:!0},xAxis:[{type:"value",show:!1,boundaryGap:[0,"20%"],axisLabel:{color:"#fff"}},{type:"value",show:!1,boundaryGap:[0,"20%"],axisLabel:{color:"#fff"}}],yAxis:{type:"category",data:["大于\n500亩","100至\n500亩","50至\n100亩","10至\n50亩","小于\n10亩"],inverse:!0,axisLabel:{color:"#6DC1CB",verticalAlign:"middle",margin:0,padding:[0,5,0,0],lineHeight:14}},series:[{name:"经营主体数量",type:"bar",data:[],barWidth:"28%",xAxisIndex:0,itemStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"#01C1FF"},{offset:1,color:"#00F6FF"}],global:!1}},label:{show:!0,position:"right",color:"#00F6FF",fontWeight:"bold",fontSize:12,formatter:function(e){return e.value+" 家"}}},{name:"经营主体总占地面积",type:"bar",data:[],barWidth:"28%",xAxisIndex:1,itemStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"#D29C50"},{offset:1,color:"#E6E768"}],global:!1}},label:{show:!0,position:"right",color:"#FEEB48",fontWeight:"bold",fontSize:12,formatter:function(e){return e.value+" 万亩"}}}]},s={name:"business-scale-statistics-21",props:{farmAreaInfo:{type:Object,default:function(){return Object(r.b)()}}},data:function(){return{chartInstance:null,hasData:!0,loading:!1}},mounted:function(){var e=this;this.$nextTick(function(){e.initMoudle()}),window.addEventListener("resize",this.adaptationFontSize)},beforeDestroy:function(){window.removeEventListener("resize",this.adaptationFontSize)},methods:{initMoudle:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.chartInstance=t._initEcharts(t.eContainerRef,o),e.next=4,t.getBusinessScale();case 4:if(n=e.sent){e.next=8;break}return t.hasData=!1,e.abrupt("return");case 8:t.refreshChart(t.chartInstance,n),t.loading=!1;case 10:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(r,i){try{var o=t[r](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})})()},getBusinessScale:function(){return this.$ajax.post(this.$api.overview.getAreaBusinessScaleStatistics,{farmAreaId:[this.farmAreaInfo.farmAreaId],farmAreaType:this.farmAreaInfo.farmAreaType}).then(function(t){var n=t.data;return 0===n.respCode?(console.log("经营主体规模统计：",n),n.obj):(console.log(new Error("获取经营主体规模统计error"),e),null)}).catch(function(e){console.log(new Error("获取经营主体规模统计error"),e)})},_initEcharts:function(e,t){var n=this.$echarts.init(e);return n.setOption(t),n},refreshChart:function(e,t){var n={series:[{data:t.map(function(e){return e.businessCount})},{data:t.map(function(e){return e.totalArea})}]};this.chartInstance.setOption(n)},handlePage:function(){this.$router.push({name:"operateSubjectList"})},refreshRender:function(){this.chartInstance&&this.chartInstance.resize()},adaptationFontSize:function(){if((document.documentElement.clientWidth||document.body.clientWidth)>3e3){this.chartInstance&&this.chartInstance.setOption({tooltip:{textStyle:{fontSize:18}},yAxis:{axisLabel:{fontSize:18,lineHeight:22}},series:[{label:{fontSize:18}},{label:{fontSize:18}}]})}}},computed:{eContainerRef:function(){return this.$refs.EContainer}},components:{areaPanel:i.default}},l=a("W5g0");var c=function(e){a("qRsq")},u=Object(l.a)(s,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"business-scale-statistics-21",attrs:{"element-loading-spinner":"iconfont icon-loading1","element-loading-background":"rgba(0, 0, 0, 0.2)"}},[t("area-panel",{attrs:{"area-title":"经营规模统计"},on:{"hand-sub-title":this.handlePage}},[t("div",{staticClass:"module-body",attrs:{slot:"panelMain"},slot:"panelMain"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!this.loading,expression:"!loading"}],ref:"EContainer",staticClass:"echart-container"}),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!this.hasData,expression:"!hasData"}],staticClass:"no-data"},[t("span",[this._v("暂无数据")])])])])],1)},[],!1,c,"data-v-6406bb4a",null);n.default=u.exports}});
//# sourceMappingURL=109.589776c8a335f54941b4.js.map